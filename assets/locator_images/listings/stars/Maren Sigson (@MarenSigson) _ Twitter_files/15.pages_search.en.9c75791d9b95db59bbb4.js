webpackJsonp([15],{1171:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(1172),a=s(n),r=i(1179),o=s(r),l=i(1180),c=s(l),d=i(1184),h=s(d),u=i(890),f=s(u),p=i(925),m=s(p),g=i(889),v=s(g),S=i(1182),w=s(S),y=i(1185),b=s(y),T=i(1186),C=s(T),D=i(1187),k=s(D),I=a.default.mixin(o.default,c.default,h.default,f.default,m.default,v.default,w.default,b.default,C.default,k.default);t.default=I},1180:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.injectNewItems=function(e,t){if(!(this.latentItems.length<1)){t&&t.wasPeriodPress&&this.trigger("uiUserPressedPeriodAndSawNewTweets"),t&&t.wasPushStateInjection&&this.trigger("uiUserPushStateInjectedTweets"),t&&t.wasTopBarBirdClick&&this.trigger("uiUserClickedTopBarBirdAndSawNewTweets"),t&&t.wasComposedTweet&&this.trigger("uiUserComposedTweet"),this.trigger("uiHideNewItemsBar");var i=this.injectItems("prepend",this.latentItems.join(""),"uiHasInjectedNewTimeline",t);return this.resetLatentItems(),i}},o.default.mixin(this,[c.default,h.default]),this.defaultAttrs({streamItemSelector:".js-stream-item:not(.js-stream-item .js-stream-item)",refreshOnReturn:!0}),this.getNewItems=function(e,t){var i=Object.keys(this.composedThenInjectedTweetIds);this.trigger("uiWantsMoreTimelineItems",a({include_new_items_bar:!(t&&t.injectImmediately),latent_count:this.latentCount,composed_count:i.length,composed_ids:i},this.getNewItemsData(),this.getNewItemsCountData&&this.getNewItemsCountData(),t))},this.notifyNewItems=function(e){if(e.items_html&&e.items_html.trim()){var t=e.sourceEventData||{};if(this.resetStateVariables(e),e.items_html){if(this.latentItems=this.htmlToItemArray(e.items_html).concat(this.latentItems),this.latentCount=e.new_latent_count,e.new_tweets_bar_html){var i=e.new_tweets_bar_html;this.autoplay?this.autoplayNewItems(e.new_tweets_bar_html):t.injectImmediately||(this.trigger("uiUpdateNewItemsBar",{html:i}),this.trigger("uiAddPageCount",{count:this.latentCount}))}(t.injectImmediately||t.timeline_empty)&&this.trigger("uiInjectNewItems"),t.scrollToTop&&this.scrollToTop(),t.selectTopTweet&&this.trigger("uiSelectTopTweet")}}},this.htmlToItemArray=function(t){var i=e("<div>").html(t).find(this.attr.streamItemSelector).toArray();return i.map(function(t){return e("<div>").append(t).html()})},this.saveLatentItems=function(e,t){var i=this.select("containerSelector");i.attr("data-latent-items",this.latentItems.join("")),i.attr("data-latent-count",this.latentCount)},this.resetLatentItems=function(){var e=this.select("containerSelector"),t=e.attr("data-latent-items");e.removeAttr("data-latent-items"),this.latentItems=this.htmlToItemArray(t),this.latentCount=parseInt(e.attr("data-latent-count"),10)||0,e.removeAttr("data-latent-count")},this.refreshOnNavigate=function(e,t){t.fromCache&&this.attr.refreshOnReturn&&this.trigger("uiTimelineShouldRefresh",{navigated:!0})},this.refreshAndSelectTopTweet=function(e,t){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0,selectTopTweet:!0})},this.injectComposedTweet=function(t,i){if(!i.in_reply_to_status_id&&i.tweet_html){this.injectNewItems();var s=e(i.tweet_html).filter(this.attr.streamItemSelector).first().attr("data-item-id");this.$node.find(".original-tweet[data-tweet-id='"+s+"']:first").length||(this.latentItems=this.htmlToItemArray(i.tweet_html),this.injectNewItems(null,{wasComposedTweet:"dataTweetSuccess"===t.type}),this.composedThenInjectedTweetIds[i.tweet_id]=window.location.href)}},this.refreshAndInjectImmediately=function(e,t){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0,selectTopTweet:1===this.$selected.length})},this.resetCacheOfComposedInjectedTweets=function(e,t){this.composedThenInjectedTweetIds=u={}},this.addPageCount=function(e,t){this.latentCount&&this.trigger("uiAddPageCount",{count:this.latentCount})},this.after("initialize",function(){this.latentItems=[],this.latentCount=0,this.composedThenInjectedTweetIds=u,this.resetLatentItems(),this.injectNewItems(null,{wasPushStateInjection:!0}),this.on("uiInjectNewItems",this.injectNewItems),this.on(document,"uiTimelineShouldRefresh",this.getNewItems),this.on(document,"uiBeforePageChanged",this.saveLatentItems),this.on(document,"uiPageChanged",this.refreshOnNavigate),this.on(document,"uiGotoTopOfScreen",this.refreshAndInjectImmediately),this.on(document,"uiShortcutGotoTopOfScreen",this.refreshAndSelectTopTweet),this.on(document,"dataPageMutated",this.resetCacheOfComposedInjectedTweets),this.on(document,"uiPageNeedsCount",this.addPageCount),this.attr.injectComposedTweets&&this.on(document,"dataTweetSuccess",this.injectComposedTweet)})}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},r=i(121),o=s(r),l=i(1181),c=s(l),d=i(1183),h=s(d),u={};t.default=n}).call(t,i(10))},1181:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){r.default.mixin(this,[l.default]);var t=700;this.defaultAttrs({streamItemsSelector:".stream-items",socialProofSelector:".tweet-stats-container"}),this.autoplayNewItems=function(e){if(e){var t=this.$window.scrollTop(),i=t+this.$window.height(),s=this.$promotedItem.length&&this.$promotedItem.offset().top>i,n=this.injectNewItems({},{autoplay:!0}),a=this.select("streamItemsSelector");this.travelingPTw&&s&&this.repositionPromotedItem(function(e){n.first().before(e),n=n.add(e),this.trigger(e,"uiShouldFixMargins")});var r=n.first().offset().top,o=r>t&&r<i,l=a.offset().top,c=n.last().next().offset().top-l+1;o?(a.css("marginTop",-c),this.animateBlockOfItems()):this.setScrollerScrollTop(t+c)}},this.animateBlockOfItems=function(){var e=this,i=this.select("streamItemsSelector"),s=this.$window.scrollTop(),n=parseFloat(i.css("marginTop"));i.parent().css("overflow","hidden"),i.animate({marginTop:0},{duration:t+Math.abs(n),step:function(t){e.lockedTimelineScroll&&e.setScrollerScrollTop(s+Math.abs(n-Math.ceil(t)))},complete:function(){i.parent().css("overflow","inherit"),e.afterAnimationQueue.forEach(function(e){e.call(this)},e),e.afterAnimationQueue=[]}})},this.setScrollerScrollTop=function(t){var i=this.attr.overflowScroll?this.$node:e(window);i.scrollTop(t)},this.enableAutoplay=function(){this.autoplay=!0,this.travelingPTw=this.attr.travelingPTw,this.lockedTimelineScroll=!1,this.afterAnimationQueue=[],this.newItemsXLine=0,this.$window=this.attr.overflowScroll?this.$node:e(window),this.on("mouseover",function(){this.lockedTimelineScroll=!0}),this.on("mouseleave",function(){this.lockedTimelineScroll=!1})},this.after("initialize",function(){this.attr.autoplay&&this.enableAutoplay()})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(121),r=s(a),o=i(1182),l=s(o);t.default=n}).call(t,i(10))},1182:function(e,t){"use strict";function i(){this.repositionPromotedItem=function(e){e.call(this,this.$promotedItem.detach())},this.after("initialize",function(){this.$promotedItem=this.$node.find(".promoted-tweet").first().closest(".stream-item")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},1183:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({pollingWatchNode:e(window),pollingEnabled:!0}),this.pausePolling=function(){this.pollingTimer.pause(),this.pollingPaused=!0},this.resetPolling=function(){this.backoffEmptyResponseCount=0,this.pollingPaused=!1},this.pollForNewItems=function(e,t){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!1,interval:this.pollingTimer.interval,fromPolling:!0})},this.onGotMoreTimelineItems=function(e,t){if(this.attr.pollingOptions&&this.attr.pollingOptions.pauseAfterBackoff&&t&&t.sourceEventData){if(t.focused_refresh_interval){var i=this.attr.pollingOptions.blurredInterval/this.attr.pollingOptions.focusedInterval;this.pollingTimer.clear(),this.attr.pollingOptions.focusedInterval=t.focused_refresh_interval,this.attr.pollingOptions.blurredInterval=t.focused_refresh_interval*i,this.pollingTimer=(0,r.default)("uiTimelinePollForNewItems",this.attr.pollingWatchNode,this.attr.pollingOptions)}var s=t.sourceEventData;s.fromPolling&&(this.isNewItem(t)||s.interval<this.attr.pollingOptions.blurredInterval?this.resetPolling():++this.backoffEmptyResponseCount>=this.attr.pollingOptions.backoffEmptyResponseLimit&&this.pausePolling())}},this.getNewItemsCountData=function(e){if(this.pollingPaused&&this.attr.pollingOptions)return this.resetPolling(),{count:this.attr.pollingOptions.resumeItemCount}},this.possiblyRefreshBeforeInject=function(e,t,i){return this.pollingPaused&&i&&i.fromClick&&this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0}),e(t,i)},this.around("injectNewItems",this.possiblyRefreshBeforeInject),this.before("teardown",function(){this.pollingTimer&&this.pollingTimer.clear()}),this.after("initialize",function(){this.attr.pollingEnabled&&(this.on(document,"uiTimelinePollForNewItems",this.pollForNewItems),this.on(document,"dataGotMoreTimelineItems",this.onGotMoreTimelineItems),this.pollingTimer=(0,r.default)("uiTimelinePollForNewItems",this.attr.pollingWatchNode,this.attr.pollingOptions),this.resetPolling())})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(966),r=s(a);t.default=n}).call(t,i(10))},1184:function(e,t,i){(function(e){"use strict";function i(){this.defaultAttrs({viewAllSelector:"button.view-all-supplements",interactionsPageViewAllToggleSelector:".stream-item-activity-notification button.view-all-supplements",additionalStreamItemsSelector:".sub-stream-item-showing, .sub-stream-item-hidden"}),this.toggleInteractionsSupplements=function(t,i){var s=e(i.el),n=s.hasClass("show");this.toggleSupplementTrigger(s,n),this.toggleSubStreamItemsVisibility(s.parent(),n)},this.toggleSupplementTrigger=function(e,t){e.toggleClass("hide",t).toggleClass("show",!t)},this.toggleSubStreamItemsVisibility=function(e,t){e.find(this.attr.additionalStreamItemsSelector).toggleClass("sub-stream-item-hidden",!t).toggleClass("sub-stream-item-showing",t)},this.after("initialize",function(){this.on("click",{interactionsPageViewAllToggleSelector:this.toggleInteractionsSupplements})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}).call(t,i(10))},1185:function(e,t){"use strict";function i(){this.defaultAttrs({pinnedStreamItemSelector:"li.js-pinned"}),this.keepPinnedStreamItemsOnTop=function(){this.$pinnedStreamItems.length&&(this.$pinnedStreamItems.first().css("margin-top","0"),this.$items.prepend(this.$pinnedStreamItems.detach()))},this.after("initialize",function(){this.$items=this.select("itemsSelector"),this.$pinnedStreamItems=this.select("pinnedStreamItemSelector"),this.on("uiHasInjectedNewTimeline",this.keepPinnedStreamItemsOnTop)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},1199:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){var e=/:[A-Z0-9_-]+$/i;this.scribeMediaThumbnailResults=function(t,i){var s=i.thumbnails.length,n=s?"results":"no_results",a={};s&&(a.items=i.thumbnails.map(function(t){return{name:t.replace(e,"")}})),this.scribe({action:n},i,a)},this.scribeMediaThumbnailClick=function(t,i){var s={url:i.url&&i.url.replace(e,"")},n={element:i.mediaType,action:"click"};this.scribe(n,i,s)},this.after("initialize",function(){this.on(document,"uiMediaGalleryResults",this.scribeMediaThumbnailResults),this.on(document,"uiMediaThumbnailsVisible",this.scribeMediaThumbnailResults),this.on(document,"uiMediaThumbnailClick",this.scribeMediaThumbnailClick)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o);t.default=(0,r.default)(n,l.default)},1219:function(e,t,i){(function(e){"use strict";function i(){this.defaultAttrs({streamUserSelector:".stream-items .js-actionable-user"}),this.oldUsersDisplayed=function(e,t){var i=t.items||[],s=i.map(function(e){return{id:e.userId,impressionId:e.impressionId}});this.trigger("uiUsersDisplayed",{users:s})},this.usersDisplayed=function(){var t=this.select("streamUserSelector"),i=[];t.each(function(t,s){var n=e(s);i.push({id:n.attr("data-user-id"),impressionId:n.attr("data-impression-id")})}),this.trigger("uiUsersDisplayed",{users:i})},this.after("initialize",function(){this.usersDisplayed(),this.on("uiHasInjectedOldTimelineItems",this.oldUsersDisplayed)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}).call(t,i(10))},1220:function(e,t,i){(function(e){"use strict";function i(){this.aroundGetOldItemsData=function(t){var i=t();return this.attr.useExcludedIdsPagination&&(i.excluded=this.select("excludedUserSelector").map(function(){return e(this).attr("data-user-id")}).toArray().join(","),i.cursor=void 0),i},this.after("initialize",function(){this.around("getOldItemsData",this.aroundGetOldItemsData)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}).call(t,i(10))},1305:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.viewportHelpers=u.default,this.defaultAttrs({tweetSelector:".tweet",cursorSelector:".ThreadedConversation-showMoreThreads",itemType:"tweet",checkVisibilityInterval:500}),this.checkTweetVisibility=function(){var t=this,i=this.allVisibleTweets(),s=i.map(function(e){return this.interactionDataWithCard(e)},this),n=this.select("cursorSelector").filter(function(i,s){u.default.isWithinBounds(t.$window,e(s))}).toArray().map(function(t){return{type:e(t).data("cursor-type-name"),cursor:e(t).find("[data-cursor]").data("cursor")}});this.trigger("uiTweetsVisible",{tweetData:s,cursorData:n})},this.allVisibleTweets=function(){var e=this.select("tweetSelector"),t=this.findVisibleTweet(e);if(t===-1)return[];for(var i=[],s=t;e[s]&&u.default.isWithinBounds(this.$window,e.eq(s));)i.push(e[s]),s--;for(i.reverse(),s=t+1;e[s]&&u.default.isWithinBounds(this.$window,e.eq(s));)i.push(e[s]),s++;return i},this.findVisibleTweet=function(e){var t=u.default.getContainerRect(this.$window);return this.findVisibleTweetRecursive(e.length,0,e,0,t)},this.findVisibleTweetRecursive=function(e,t,i,s,n){var a=Math.floor((e-t)/2+t);return a===t||s>100?-1:u.default.isAboveViewport(this.$window,i.eq(a),0,n)?this.findVisibleTweetRecursive(e,a,i,s+1,n):u.default.isBelowViewport(this.$window,i.eq(a),0,n)?this.findVisibleTweetRecursive(a,t,i,s+1,n):a},this.before("teardown",function(){this.pollingInterval.clear()}),this.after("initialize",function(){this.$window=e(window),this.pollingInterval=d.default.setIntervalEvent("uiCheckTweetVisibility",this.attr.checkVisibilityInterval),this.on(document,"uiCheckTweetVisibility",this.checkTweetVisibility)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(138),l=s(o),c=i(110),d=s(c),h=i(177),u=s(h);t.default=(0,r.default)(n,l.default)}).call(t,i(10))},1306:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({scribeInterval:6e4,page:void 0}),this.getTime=function(){return Date.now()},this.handleTweetsVisible=function(e,t){this.recordVisibleTweets(t.tweetData),t.cursorData&&this.recordVisibleCursors(t.cursorData)},this.recordVisibleCursors=function(e){var t=this,i={};e.forEach(function(e){t.visibleCursors[e.cursor]&&(t.previouslyVisibleCursors[e.cursor]=e.type),i[e.cursor]=e.type}),this.visibleCursors=i},this.recordVisibleTweets=function(e){var t={},i=this.getTime();e.forEach(function(e){this.visibleTweets[e.tweetId]?t[e.tweetId]=a({},this.visibleTweets[e.tweetId],{visibility_end:i}):t[e.tweetId]=a({},e,{visibility_start:i,visibility_end:i})},this),this.visibleTweetKeys().forEach(function(e){var i=this.visibleTweets[e],s=!t[e],n=i.visibility_start!==i.visibility_end;s&&n&&this.previouslyVisibleTweets.push(this.visibleTweets[e])},this),this.visibleTweets=t},this.flushVisibleTweets=function(e,t){var i=this.getTime();this.visibleTweetKeys().forEach(function(e){this.visibleTweets[e].visibility_end=i},this),this.recordVisibleTweets([]),this.scribeVisibilityResults()},this.onScribeVisibilityResults=function(e,t){t.page===this.attr.page&&(this.scribeVisibilityResults(),this.scribeCursorVisibilityResults())},this.scribeCursorVisibilityResults=function(){var e=this;if(Object.keys(this.previouslyVisibleCursors).length){var t={component:"tweet",element:"cursor",action:"impression"};Object.keys(this.previouslyVisibleCursors).forEach(function(i){e.previouslyScribedCursors[i]||(e.scribe(t,{event_info:e.previouslyVisibleCursors[i]}),e.previouslyScribedCursors[i]=!0)}),this.previouslyVisibleCursors={}}},this.scribeVisibilityResults=function(){if(this.previouslyVisibleTweets.length){var e={component:"stream",element:"linger",action:"results"},t={items:this.previouslyVisibleTweets.map(function(e){return this.interactionItem(e)},this)};this.previouslyVisibleTweets=[],this.scribe(e,t)}},this.visibleTweetKeys=function(){return Object.keys(this.visibleTweets).filter(function(e){return this.visibleTweets.propertyIsEnumerable(e)},this)},this.before("teardown",function(){this.pollingInterval.clear()}),this.after("initialize",function(){this.visibleTweets={},this.previouslyVisibleTweets=[],this.visibleCursors={},this.previouslyVisibleCursors={},this.previouslyScribedCursors={},this.pollingInterval=f.default.setIntervalEvent("uiScribeVisibilityResults",this.attr.scribeInterval,{page:this.attr.page}),this.on(document,"uiScribeVisibilityResults",this.onScribeVisibilityResults),this.on(document,"uiBeforePageChanged uiTeardown",this.flushVisibleTweets),this.on("uiTweetsVisible",this.handleTweetsVisible)})}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},r=i(111),o=s(r),l=i(142),c=s(l),d=i(141),h=s(d),u=i(110),f=s(u);t.default=(0,o.default)(n,c.default,h.default)},1326:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({promotedTweetStoreCookieName:"h"}),this.cookie=r.default,this.promotedTweetDismissed=function(e,t){t.impressionId&&this.removeFromPromotedTweetStoreCookie(t)},this.removePromotedTweetsFromBlockedUser=function(t,i){var s=this.$node.find("[data-user-id="+i.userId+"].js-stream-tweet.promoted-tweet"),n=this;e.each(s,function(t,i){var s=e(i).attr("data-tweet-id");s&&n.removeFromPromotedTweetStoreCookie({id:s})})},this.removeFromPromotedTweetStoreCookie=function(t){var i=void 0;try{i=JSON.parse((0,r.default)(this.attr.promotedTweetStoreCookieName))}catch(s){i=[]}e.isArray(i)||(i=[i]),i=i.filter(function(e){return e&&e.tweet_id&&e.tweet_id!==t.id}),i=0===i.length?null:JSON.stringify(i),(0,r.default)(this.attr.promotedTweetStoreCookieName,i)},this.after("initialize",function(){this.on("uiTweetDismissed",this.promotedTweetDismissed),this.on(document,"jsClearReinjectionCookiesForUser",this.removePromotedTweetsFromBlockedUser)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(154),r=s(a);t.default=n}).call(t,i(10))},1328:function(e,t){"use strict";function i(){this.defaultAttrs({dismissTweetSelector:".tweet .js-action-dismiss"}),this.after("initialize",function(){var e=this.mkTweetDataCollectorForAction(this.interactionDataWithCard);this.on("click",{dismissTweetSelector:this.composeHandler(this.getClosestTweet,e,this.triggerTweetAction("uiDismissTweet"))})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},1339:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(1053),a=s(n),r=i(1340),o=s(r);t.default=a.default.mixin(o.default)},1340:function(e,t,i){(function(e){"use strict";function i(){this.defaultAttrs({selectedStreamItemSelector:".selected-stream-item",ownTweetSelector:".my-tweet"}),this.isSelected=function(t,i,s){var n=this.select("selectedStreamItemSelector"),a=n[0],r=t.target;return n.is(r)||!(!a||!e.contains(a,r))},this.getSelectedTweet=function(e,t,i){var s=this.select("selectedStreamItemSelector").find(this.attr.tweetItemSelector),n=!!s.length;return n&&(i.$tweet=s),n},this.after("initialize",function(){if(this.attr.loggedIn){var e=this.mkTweetDataCollectorForAction(this.interactionDataWithCard),t=this.mkTweetDataCollectorForAction(this.interactionDataWithCard,this.getDataForReply);this.on("uiShortcutFavorite",this.composeHandler(this.isSelected,this.getSelectedTweet,e,this.toggleFavorite)),this.on("uiShortcutRetweet",this.composeHandler(this.isSelected,this.getSelectedTweet,e,this.toggleRetweet)),this.on("uiShortcutReply",this.composeHandler(this.isSelected,this.getSelectedTweet,t,this.triggerTweetAction("uiReplyToTweet")))}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}).call(t,i(10))},1389:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e){u.default.attachTo(document),r.default.attachTo(document,{src:e.src,trendsCacheKey:e.trendsCacheKey,trendsModuleEndpoint:e.trendsEndpoint,show_context:e.show_context,profileUserId:e.profile_id,query:e.query}),p.default.attachTo(".module.trends",{loggedIn:e.loggedIn,displaySource:e.src,eventData:{scribeContext:{component:"trends"}}}),l.default.attachTo(document),d.default.attachTo(document),g.default.attachTo("#trends_dialog",{typeaheadData:e.typeaheadData,eventData:{scribeContext:{component:"trends_location_dialog"}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a=i(1390),r=s(a),o=i(1391),l=s(o),c=i(1392),d=s(c),h=i(1393),u=s(h),f=i(1394),p=s(f),m=i(1395),g=s(m)},1390:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({src:"module",$backoffNode:e(window),trendsModuleEndpoint:"/i/trends",trendsCacheKey:null,show_context:!0,trendsPollingOptions:{focusedInterval:3e5,blurredInterval:12e5,eventData:{source:"clock"}}}),this.makeTrendsRequest=function(e){var t=e.woeid,i=e.source,s=function(e){e.source=i,this.trigger("dataTrendsRefreshed",e)};this.get({url:this.attr.trendsModuleEndpoint,eventData:e,data:{k:this.currentCacheKey,woeid:t,pc:!0,personalized:e.personalized,src:this.attr.src,show_context:this.attr.show_context,profileUserId:this.attr.profileUserId,query:this.attr.query},success:s.bind(this),error:"dataTrendsRefreshedError"})},this.makeTrendsDialogRequest=function(e,t){var i={woeid:e.woeid,personalized:e.personalized,pc:!0},s=function(e){this.trigger("dataGotTrendsDialog",e),this.currentWoeid&&this.currentWoeid!==e.woeid&&this.trigger("dataTrendsLocationChanged"),this.currentWoeid=e.woeid,e.trends_cache_key&&(this.currentCacheKey=e.trends_cache_key,this.trigger("dataPageMutated")),e.update_module_html&&this.trigger("uiRefreshTrends",e)},n=t?this.post:this.get;n.call(this,{url:"/trends/dialog",eventData:e,data:i,success:s.bind(this),error:"dataGotTrendsDialogError"})},this.changeTrendsLocation=function(e,t){this.makeTrendsDialogRequest(t,!0)},this.refreshTrends=function(e,t){t=t||{},this.makeTrendsRequest(t)},this.getTrendsDialog=function(e,t){t=t||{},this.makeTrendsDialogRequest(t)},this.updateTrendsCacheKey=function(e,t){this.currentCacheKey=t.trendsCacheKey},this.after("initialize",function(){this.currentCacheKey=this.attr.trendsCacheKey,this.timer=(0,l.default)("uiRefreshTrends",this.attr.$backoffNode,this.attr.trendsPollingOptions),this.on("uiWantsTrendsDialog",this.getTrendsDialog),this.on("uiChangeTrendsLocation",this.changeTrendsLocation),this.on("uiRefreshTrends",this.refreshTrends),this.on("dataTempTrendsCacheKeyChanged",this.updateTrendsCacheKey)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(966),l=s(o),c=i(246),d=s(c);t.default=(0,r.default)(n,d.default)}).call(t,i(10))},1391:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.getTrendsLocationDialog=function(e,t){var i=function(e){this.trigger("dataGotTrendsLocationDialog",e),e.trendLocations&&this.trigger("dataLoadedTrendLocations",{trendLocations:e.trendLocations})};this.get({url:"/trends/location_dialog",eventData:t,success:i.bind(this),error:"dataGotTrendsLocationDialogError"})},this.updateTrendsLocation=function(e,t){var i=t.location||{},s={woeid:i.woeid,personalized:t.personalized,pc:!0},n=function(e){this.trigger("dataChangedTrendLocation",{personalized:e.personalized,location:i}),e.trends_cache_key&&(this.trigger("dataTempTrendsCacheKeyChanged",{trendsCacheKey:e.trends_cache_key}),this.trigger("dataPageMutated")),e.update_module_html&&this.trigger("uiRefreshTrends",e)};this.post({url:"/trends/dialog",eventData:t,data:s,success:n.bind(this),error:"dataGotTrendsLocationDialogError"})},this.after("initialize",function(){this.on("uiWantsTrendsLocationDialog",this.getTrendsLocationDialog),this.on("uiChangeLocation",this.updateTrendsLocation)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(246),l=s(o);t.default=(0,r.default)(n,l.default)},1392:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({storageName:"recent_trend_locations",storageKey:"locations",maxRecentLocations:5}),this.initializeStorage=function(){var e=(0,l.default)({withArray:!0,withMaxElements:!0});this.storage=new e(this.attr.storageName),this.storage.setMaxElements(this.attr.storageKey,this.attr.maxRecentLocations)},this.getRecentTrendLocations=function(){this.trigger("dataGotRecentTrendLocations",{trendLocations:this.storage.getArray(this.attr.storageKey)})},this.saveRecentLocation=function(e,t){var i=t.location||{};i.woeid&&!this.hasRecentLocation(i.woeid)&&(this.storage.push(this.attr.storageKey,i),this.getRecentTrendLocations())},this.hasRecentLocation=function(e){var t=this.storage.getArray(this.attr.storageKey);return t.some(function(t){return t.woeid===e})},this.after("initialize",function(){this.initializeStorage(),this.on("uiWantsRecentTrendLocations",this.getRecentTrendLocations),this.on("dataChangedTrendLocation",this.saveRecentLocation)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(249),l=s(o),c=i(246),d=s(c);t.default=(0,r.default)(n,d.default)},1393:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.scribeTrendClick=function(e,t){this.scribe("search",t)},this.prepareScribeData=function(e){var t=e.initial?"initial":"newer",i={referring_event:t},s=!1;return i.items=e.items.map(function(e,t){var i={name:e.name,item_type:d.default.trend,item_query:e.name,position:t,token:e.token,id:e.id};return e.promotedTrendId&&(i.promoted_id=e.promotedTrendId,s=!0),i}),s&&(i.promoted=s),"clock"===e.source&&(i.event_initiator=u.default.clientSideApp),i},this.scribeTrendsResults=function(e,t){var i=this.prepareScribeData(t),s={element:i.referring_event,action:t.items&&t.items.length?"results":"no_results"};this.scribe(s,t,i),t.initial&&this.scribeTrendsImpression(t)},this.scribeTrendsImpression=function(e){this.scribe("impression",e)},this.after("initialize",function(){this.scribeOnEvent("uiTrendsDialogOpened","open"),this.on("uiTrendSelected",this.scribeTrendClick),this.on("uiTrendsDisplayed",this.scribeTrendsResults)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o),c=i(144),d=s(c),h=i(1175),u=s(h);t.default=(0,r.default)(n,l.default)},1394:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({changeLinkSelector:".change-trends",trendsInnerSelector:".trends-inner",trendItemSelector:".js-trend-item",trendLinkItemSelector:".js-trend-item a",itemType:"trend",displaySource:"module"}),this.openChangeTrendsDialog=function(e){this.trigger("uiShowTrendsLocationDialog"),e.preventDefault()},this.updateModuleContent=function(e,t){if(t.module_html){var i=this.$node.hasClass("hidden"),s=t.source;this.select("trendsInnerSelector").html(t.module_html),this.currentWoeid=t.woeid,this.$node.removeClass("hidden");var n=this.getTrendData(this.select("trendItemSelector"));this.trigger("uiTrendsDisplayed",{items:n,initial:i,source:s,scribeData:{woeid:this.currentWoeid}})}},this.trendSelected=function(t,i){var s=e(i.el).closest(this.attr.trendItemSelector),n=this.getTrendData(s)[0],a=s.index(),r={name:n.name,item_type:l.default.trend,item_query:n.name,position:a,token:n.token,id:n.id},o={position:a,query:n.name,url:s.find("a").attr("href"),woeid:this.currentWoeid};n.promotedTrendId&&(r.promoted_id=n.promotedTrendId,o.promoted=!0),o.items=[r],this.trigger("uiTrendSelected",{isPromoted:!!n.promotedTrendId,promotedTrendId:n.promotedTrendId,scribeContext:{element:"trend"},scribeData:o})},this.getTrendData=function(t){return t.map(function(){var t=e(this);return{name:t.attr("data-trend-name"),promotedTrendId:t.data("promoted-trend-id"),trendingEvent:t.hasClass("event-trend"),token:t.attr("data-trend-token"),id:t.attr("data-trends-id")}}).toArray()},this.after("initialize",function(){this.on(document,"dataTrendsRefreshed",this.updateModuleContent),this.on("click",{changeLinkSelector:this.openChangeTrendsDialog,trendLinkItemSelector:this.trendSelected}),this.trigger("uiRefreshTrends")})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(144),l=s(o),c=i(889),d=s(c);t.default=(0,r.default)(n,d.default)}).call(t,i(10))},1395:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({contentSelector:"#trends_dialog_content",quickSelectSelector:"#trend-locations-quick-select",dropdownSelector:"#trend-locations-dropdown-select",personalizedSelector:".trends-personalized",nonPersonalizedSelector:".trends-by-location",changeTrendsSelector:".customize-by-location",showDropdownSelector:".js-show-dropdown-select",showQuickSelectSelector:".js-show-quick-select",searchSelector:".trends-search-locations",nearbySelector:".trends-nearby-locations",recentSelector:".trends-recent-locations",currentLocationSelector:".trends-current-location",loadingSelector:"#trend-locations-loading",defaultSelector:".select-default",doneSelector:".done",errorSelector:".trends-dialog-error p",errorClass:"has-error"}),this.openDialog=function(e,t){this.trigger("uiTrendsDialogOpened"),this.initialized?this.setCurrentView():(this.trigger("uiWantsTrendsLocationDialog"),this.initialized=!0),this.$node.removeClass("has-error"),this.open()},this.setCurrentView=function(){this.attr.personalized?this.showPersonalizedView():this.showNonpersonalizedView(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showPersonalizedView=function(){this.select("nonPersonalizedSelector").hide(),this.select("personalizedSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showNonpersonalizedView=function(){this.select("personalizedSelector").hide(),this.select("nonPersonalizedSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showQuickSelectContainer=function(e,t){this.showNonpersonalizedView(),this.select("dropdownSelector").hide(),this.select("quickSelectSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showDropdownContainer=function(e,t){this.showNonpersonalizedView(),this.select("quickSelectSelector").hide(),this.select("dropdownSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.hideViews=function(){this.select("personalizedSelector").hide(),this.select("nonPersonalizedSelector").hide()},this.showError=function(e,t){this.hideViews(),this.hideLoading(),this.initialized=!1,this.$node.addClass(this.attr.errorClass),this.select("errorSelector").html(t.message),this.trigger(this.$dialog,"uiDialogContentChanged")},this.selectDefault=function(t,i){var s=e(t.target),n=!!s.data("personalized");n?this.setPersonalizedTrends():this.changeLocationInfo({name:s.data("name"),woeid:s.data("woeid")}),this.close()},this.reset=function(e,t){this.showQuickSelectContainer(),
this.trigger("uiTrendsDialogReset")},this.initializeDialog=function(e,t){this.select("contentSelector").html(t.dialog_html),this.setLocationInfo(e,t),this.initializeComponents(),this.setCurrentView()},this.showLoading=function(){this.select("loadingSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.hideLoading=function(){this.select("loadingSelector").hide()},this.initializeComponents=function(e,t){p.default.attachTo(this.attr.currentLocationSelector,{location:this.attr.location,personalized:this.attr.personalized}),u.default.attachTo(this.attr.searchSelector,{typeaheadData:this.attr.typeaheadData}),d.default.attachTo(this.attr.dropdownSelector),g.default.attachTo(this.attr.nearbySelector,{location:this.attr.location,personalized:this.attr.personalized}),S.default.attachTo(this.attr.recentSelector,{location:this.attr.location,personalized:this.attr.personalized})},this.after("initialize",function(){this.hideViews(),this.on("uiChangeLocation",this.showLoading),this.on("uiTrendsLocationSearchNoResults",this.showDropdownContainer),this.on(document,"uiShowTrendsLocationDialog",this.openDialog),this.on("uiDialogClosed",this.reset),this.on(document,"dataGotTrendsLocationDialog",this.initializeDialog),this.on(document,"dataGotTrendsLocationDialogError",this.showError),this.on("uiLocationInfoUpdated",this.hideLoading),this.on("click",{doneSelector:this.close,defaultSelector:this.selectDefault,changeTrendsSelector:this.showNonpersonalizedView,showDropdownSelector:this.showDropdownContainer,showQuickSelectSelector:this.showQuickSelectContainer})})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(163),l=s(o),c=i(1396),d=s(c),h=i(1398),u=s(h),f=i(1399),p=s(f),m=i(1400),g=s(m),v=i(1402),S=s(v),w=i(1397),y=s(w);t.default=(0,r.default)(n,l.default,y.default)}).call(t,i(10))},1396:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({regionsSelector:'select[name="regions"]',citiesSelector:'select[name="cities"]'}),this.initializeCities=function(){var t=this;this.citiesByRegionWoeid={};var i=this.$cities.find("option");i.each(function(i,s){var n=e(s),a=n.data("woeid");t.citiesByRegionWoeid[a]||(t.citiesByRegionWoeid[a]=[]),t.citiesByRegionWoeid[a].push(n)})},this.updateDropdown=function(){var e=this.$regions.val(),t=this.citiesByRegionWoeid[e]||"";this.$cities.empty(),this.$cities.html(t)},this.updateRegion=function(){this.updateDropdown();var e=this.$cities.children().first();e.length&&(e.prop("selected",!0),e.change())},this.updateCity=function(){var e=this.$cities.find("option:selected"),t=parseInt(e.val(),10),i=e.data("name");this.currentSelection=t,this.changeLocationInfo({woeid:t,name:i})},this.possiblyClearSelection=function(){this.currentSelection!==this.attr.location.woeid&&this.reset()},this.reset=function(){this.currentSelection=null;var e=this.$regions.find('option[value=""]');e.prop("selected",!0),this.updateDropdown()},this.after("initialize",function(){this.$regions=this.select("regionsSelector"),this.$cities=this.select("citiesSelector"),this.initializeCities(),this.on(this.$regions,"change",this.updateRegion),this.on(this.$cities,"change",this.updateCity),this.on(document,"uiTrendsDialogReset",this.reset),this.on("uiLocationInfoUpdated",this.possiblyClearSelection),this.updateDropdown()})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(1397),l=s(o);t.default=(0,r.default)(n,l.default)}).call(t,i(10))},1397:function(e,t){"use strict";function i(){this.defaultAttrs({location:{},personalized:!1}),this.setLocationInfo=function(e,t){this.attr.personalized=!!t.personalized,this.attr.location=t.location||{},this.trigger("uiLocationInfoUpdated")},this.changeLocationInfo=function(e){this.trigger("uiChangeLocation",{location:e})},this.setPersonalizedTrends=function(){this.trigger("uiChangeLocation",{personalized:!0})},this.after("initialize",function(){this.on(document,"dataChangedTrendLocation",this.setLocationInfo)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},1398:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({inputSelector:"input.trends-location-search-input"}),this.executeTypeaheadSelection=function(e,t){return t.item.woeid===-1?void this.trigger("uiTrendsLocationSearchNoResults"):(this.currentSelection=t.item,void this.changeLocationInfo({woeid:t.item.woeid,name:t.item.name}))},this.possiblyClearSelection=function(){this.currentSelection&&this.currentSelection.woeid!==this.attr.location.woeid&&this.reset()},this.reset=function(e,t){this.currentSelection=null,this.$input.val("")},this.after("initialize",function(){this.$input=this.select("inputSelector"),this.on("uiTypeaheadItemSelected uiTypeaheadItemComplete",this.executeTypeaheadSelection),this.on("uiLocationInfoUpdated",this.possiblyClearSelection),this.on(document,"uiTrendsDialogReset",this.reset),u.default.attachTo(this.$node,{inputSelector:this.attr.inputSelector}),d.default.attachTo(this.$node,{inputSelector:this.attr.inputSelector,hideOnEmptyQuery:!0,blockLinkActions:!0,datasourceRenders:[["trendLocations",["trendLocations"]]],deciders:this.attr.typeaheadData,eventData:{scribeContext:{component:"trends_location_search"}}})})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(1397),l=s(o),c=i(416),d=s(c),h=i(433),u=s(h);t.default=(0,r.default)(n,l.default)},1399:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({personalizedSelector:".js-location-personalized",nonpersonalizedSelector:".js-location-nonpersonalized",currentLocationSelector:".current-location"}),this.updateView=function(){this.attr.personalized||this.select("currentLocationSelector").text(this.attr.location.name),this.select("nonpersonalizedSelector").toggle(!this.attr.personalized),this.select("personalizedSelector").toggle(!!this.attr.personalized)},this.after("initialize",function(){this.updateView(),this.on("uiLocationInfoUpdated",this.updateView)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(1397),l=s(o);t.default=(0,r.default)(n,l.default)},1400:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(1401),l=s(o);t.default=(0,r.default)(n,l.default)},1401:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){r.default.mixin(this,[l.default]),this.defaultAttrs({locationSelector:".trend-location-picker-item",selectedAttr:"selected"}),this.selectLocation=function(t,i){t.preventDefault();var s=e(i.el),n={woeid:s.data("woeid"),name:s.data("name")};this.changeLocationInfo(n),this.showSelected(n.woeid,!1)},this.showSelected=function(e,t){var i=this.select("locationSelector");i.removeClass(this.attr.selectedAttr),!t&&e&&i.filter('[data-woeid="'+e+'"]').addClass(this.attr.selectedAttr)},this.locationInfoUpdated=function(){this.showSelected(this.attr.location.woeid,this.attr.personalized)},this.after("initialize",function(){this.on("uiLocationInfoUpdated",this.locationInfoUpdated),this.on("click",{locationSelector:this.selectLocation}),this.showSelected(this.attr.location.woeid,this.attr.personalized)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(121),r=s(a),o=i(1397),l=s(o);t.default=n}).call(t,i(10))},1402:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({listContainerSelector:".trend-location-picker"}),this.loadTrendLocations=function(e,t){var i=t.trendLocations;this.$list.empty(),i.forEach(function(e){var t=this.$template.clone(!1),i=t.find("button");i.text(e.name),i.attr("data-woeid",e.woeid),i.attr("data-name",e.name),this.$list.append(t)},this),this.$node.toggle(i.length>0)},this.after("initialize",function(){this.$list=this.select("listContainerSelector"),this.$template=this.$list.find("li:first").clone(!1),this.on(document,"dataGotRecentTrendLocations",this.loadTrendLocations),this.trigger("uiWantsRecentTrendLocations")})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(1401),l=s(o);t.default=(0,r.default)(n,l.default)},1403:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,i){var s=a({},t,i,{eventData:{scribeContext:{component:"user_recommendations"}}});f.default.attachTo(e,s),o.default.attachTo(e,s),c.default.attachTo(document,s),h.default.attachTo(e,s)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e};t.default=n;var r=i(1404),o=s(r),l=i(1407),c=s(l),d=i(1408),h=s(d),u=i(1409),f=s(u)},1404:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({dashboardSelector:".dashboard-user-recommendations",recUserSelector:".js-actionable-user",dismissRecSelector:".js-action-dismiss",viewAllSelector:".js-view-all-link",findFriendsSelector:".js-find-friends-link"}),this.dismissRecommendation=function(t,i){if(!this.currentlyRefreshing){this.currentlyDismissing=!0;var s=e(t.target).closest(this.attr.recSelector),n=s.attr("data-user-id");this.trigger("uiDismissUserRecommendation",{recommended_user_id:n,impressionId:s.attr("data-impression-id"),excluded:[n],visible:this.getVisibleIds(s),token:s.attr("data-feedback-token"),dismissable:this.attr.wtfOptions.dismissable,refreshUserId:n}),this.animateContentOut(s,"animationCallback")}},this.handleDismissResponse=function(t,i){var s=this;if(i=i||{},this.currentlyDismissing=!1,i.user_recommendations_html){var n=this.currentlyRefreshingUser(i),a=e(i.user_recommendations_html),r=a.attr("data-user-id");if(this.select("recSelector").is("[data-user-id="+r+"]"))return void n.find(this.attr.dismissRecSelector).click();var o=this.getItemPosition(n);this.animateContentIn(n,"animationCallback",i.user_recommendations_html,{modOp:"replaceWith",scribeCallback:function(){var e={oldUser:s.interactionData(n,{position:o})};a.length&&(e.newUser=s.interactionData(a,{position:o})),s.trigger("uiDidDismissUserRecommendation",e)}})}else this.handleEmptyDismissResponse(i)},this.handleDismissError=function(e,t){this.handleEmptyDismissResponse(t)},this.handleEmptyDismissResponse=function(e){var t=this.currentlyRefreshingUser(e);t&&t.remove(),this.select("recSelector").length||(this.trigger("uiShowMessage",{message:"You have no more recommendations today!"}),this.$node.remove())},this.enable=function(){this.disabled=!1,this.refreshRecommendations({type:"empty-timeline"}),this.$node.show()},this.initRecommendations=function(e,t){this.disabled?this.$node.hide():this.verifyInitialRecommendations(e,t)},this.reset=function(){this.currentlyRefreshing||this.currentlyDismissing?this.select("dashboardSelector").html(""):(this.select("dashboardSelector").css("opacity",1),this.select("recUserSelector").css("opacity",1))},this.expandWhoToFollow=function(e,t){this.currentlyExpanding=!0;var i=a({},this.attr.wtfOptions,{limit:3,visible:this.getVisibleIds(e),refreshUserId:t.userId,get_replacement:!0});this.trigger("uiGetUserRecommendations",i)},this.triggerLinkClickScribes=function(t){var i=this,s={import_link:this.attr.findFriendsSelector,view_all_link:this.attr.viewAllSelector,refresh_link:this.attr.refreshRecsSelector},n=e(t.target);e.each(s,function(e,t){n.is(t)&&i.trigger(document,"uiClickedWtfLink",{element:e})})},this.getNewRecommendations=function(e,t,i){var s=this.attr.wtfOptions.display_location;"wtf-component"===s&&!this.currentlyExpanding&&this.getVisibleIds(null,!0).length<=3?this.expandWhoToFollow(t,i):e(t,i)},this.after("initialize",function(){this.disabled=!!this.attr.wtfOptions&&this.attr.wtfOptions.disabled,this.on(document,"dataDidDismissRecommendation",this.handleDismissResponse),this.on(document,"dataFailedToDismissUserRecommendation",this.handleDismissError),this.on(document,"uiDidHideEmptyTimelineModule",this.enable),this.on(document,"uiSwiftLoaded uiPageChanged",this.initRecommendations),this.on(document,"uiBeforePageChanged",this.reset),this.on("click",{dismissRecSelector:this.dismissRecommendation,viewAllSelector:this.triggerLinkClickScribes,findFriendsSelector:this.triggerLinkClickScribes,refreshRecsSelector:this.triggerLinkClickScribes}),this.around("cycleRecommendation",function(e,t,i){this.getNewRecommendations(e,t,i)})})}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},r=i(123),o=(s(r),i(111)),l=s(o),c=i(892),d=s(c),h=i(889),u=s(h),f=i(1405),p=s(f),m=i(1406),g=s(m);t.default=(0,l.default)(n,d.default,u.default,p.default,g.default)}).call(t,i(10))},1405:function(e,t){"use strict";function i(){this.defaultAttrs({connectOtherSelector:".js-connect-other",otherServicesSelector:".other-services"}),this.toggleOtherServices=function(){var e=this.select("otherServicesSelector"),t=void 0;e.hasClass("hidden")?(e.removeClass("hidden"),t="open"):(e.addClass("hidden"),t="close"),this.trigger("uiWTFImportPromptToggle",{action:t})},this.after("initialize",function(){this.trigger("uiWTFImportPromptImpression"),this.on("click",{connectOtherSelector:this.toggleOtherServices})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},1406:function(e,t,i){(function(e){"use strict";function s(){this.defaultAttrs({refreshAnimationDuration:200,cycleTimeout:1e3,experimentCycleTimeout:300,wtfOptions:{},selfPromotedAccountHtml:"",$accountPriorToPreview:null,successClass:"has-content",recListSelector:".js-recommended-followers",recSelector:".js-actionable-user",refreshRecsSelector:".js-refresh-suggestions",expandedContainerSelector:".js-expanded-container",itemType:"user"}),this.refreshRecommendations=function(e,t){if(!this.currentlyRefreshing){this.currentlyRefreshing=!0;var i=this.getVisibleIds(null,!0).length||this.attr.wtfOptions.limit;this.trigger("uiRefreshUserRecommendations",n({},this.attr.wtfOptions,{excluded:this.getVisibleIds(),limit:i,refreshType:e.type})),this.hideRecommendations()}},this.sendGetRecommendationEvent=function(e,t){this.trigger("uiGetUserRecommendations",n({},this.attr.wtfOptions,e||{}))},this.getUserRecommendations=function(e,t){this.sendGetRecommendationEvent(e,t),this.hideRecommendations()},this.hideRecommendations=function(){this.animateContentOut(this.select("recListSelector"),"animationCallback")},this.isNewUserDuplicate=function(e){return this.getVisibleIds().indexOf(e)!==-1},this.handleRecommendationsResponse=function(t,i){var s=this,a=this.getVisibleIds();if(!this.disabled){i=i||{},this.hasRecommendations()||(i=n({},i,{initialResults:!0}));var r=e.trim(i.user_recommendations_html);if(r){var o=this.currentlyRefreshingUser(i);if(this.$node.addClass(this.attr.successClass),this.shouldExpandWtf(i)){var l=e(r),c=l.filter(this.attr.recSelector).first(),d=l.filter(this.attr.expandedContainerSelector),h=d.find(".js-actionable-user").filter(function(){return a.indexOf(e(this).data("user-id")+"")===-1});d.empty(),h.each(function(){d.append(this)}),o&&!this.isNewUserDuplicate(c.data("user-id")+"")&&this.animateContentIn(o,"animationCallback",e("<div>").append(c).html(),{modOp:"replaceWith",scribeCallback:function(){s.currentlyExpanding?s.pendingScribe=!0:s.reportUsersDisplayed(i)}}),d.length&&this.animateExpansion(d,i)}else{if(this.isNewUserDuplicate(e(r).data("user-id")+""))return;var u=this.select("recListSelector"),f=void 0;o&&(u=o,f="replaceWith"),this.animateContentIn(u,"animationCallback",r,{modOp:f,scribeCallback:function(){return s.reportUsersDisplayed(i)}})}}else this.handleEmptyRefreshResponse(t,i),this.trigger("uiGotEmptyRecommendationsResponse",i)}},this.handleRefreshError=function(e,t){this.handleEmptyRefreshResponse(e,t)},this.handleEmptyRefreshResponse=function(e,t){if(this.select("recSelector").length){if(this.currentlyExpanding){var i=this.currentlyRefreshingUser(t);if(t&&t.sourceEventData&&t.sourceEventData.clusterfollow&&i)return this.currentlyExpanding=!1,void this.replenishWhoToFollowDashboard(i)}var s=this.select("recListSelector"),n=this.currentlyRefreshingUser(t);n&&(s=n),this.animateContentIn(s,"animationCallback",s.html())}},this.getVisibleIds=function(t,i){var s=this.select("recSelector").not(t);return i||(s=s.not(".promoted-account")),s.map(function(){return e(this).attr("data-user-id")}).toArray()},this.originalItemCount=function(){return e(this.attr.recListSelector).children(this.attr.recSelector).length},this.doAfterFollowAction=function(e,t){var i=this;if(!this.disabled&&"following"===t.newState){var s=this.expandBucket?this.attr.experimentCycleTimeout:this.attr.cycleTimeout;setTimeout(function(){if(!i.currentlyRefreshing){var e=i.select("recSelector").filter("[data-user-id='"+t.userId+"']");e.length&&i.cycleRecommendation(e,t)}},s)}},this.cycleRecommendation=function(e,t){this.animateContentOut(e,"animationCallback");var i=n({},this.attr.wtfOptions,{limit:1,visible:this.getVisibleIds(e),refreshUserId:t.userId});this.trigger("uiGetUserRecommendations",i)},this.animateExpansion=function(e,t){var i=this.select("recListSelector"),s=this.select("expandedContainerSelector"),n=function(){this.pendingScribe&&(this.reportUsersDisplayed(t),this.pendingScribe=!1),this.currentlyExpanding=!1};s.length?s.html(e.html()):i.append(e),e.is(":visible")?n.bind(this)():e.slideDown("slow",n.bind(this))},this.animateContentIn=function(e,t,i,s){var n=this;if(e.length){s=s||{};var a=function(){e.is(n.attr.recListSelector)&&(n.currentlyRefreshing=!1),e[s.modOp||"html"](i).animate({opacity:1},n.attr.refreshAnimationDuration),s.scribeCallback&&s.scribeCallback()};e.is(":animated")?this[t]=a:a()}},this.animateContentOut=function(e,t){var i=this;e.animate({opacity:0},{duration:this.attr.refreshAnimationDuration,complete:function(){i[t]&&i[t](),i[t]=null}})},this.getItemPosition=function(e){var t=this.originalItemCount();return e.closest(this.attr.expandedContainerSelector).length?t+e.closest(this.attr.recSelector).index():e.closest(this.attr.recSelector).index()},this.currentlyRefreshingUser=function(e){return e&&e.sourceEventData&&e.sourceEventData.refreshUserId?this.select("recSelector").filter("[data-user-id="+e.sourceEventData.refreshUserId+"]"):null},this.shouldExpandWtf=function(e){return!!(e&&e.sourceEventData&&e.sourceEventData.get_replacement)},this.getUsersDisplayed=function(){var t=this.select("recSelector"),i=[];return t.each(function(t,s){var n=e(s);i.push({id:n.attr("data-user-id"),impressionId:n.attr("data-impression-id")})}),i},this.reportUsersDisplayed=function(e){var t=this.getUsersDisplayed();this.trigger("uiUsersDisplayed",{users:t}),this.trigger("uiDidGetRecommendations",e)},this.verifyInitialRecommendations=function(e,t){this.hasRecommendations()?this.reportUsersDisplayed({initialResults:!0}):this.sendGetRecommendationEvent({initialResults:!0})},this.hasRecommendations=function(){return this.select("recSelector").length>0},this.storeSelfPromotedAccount=function(e,t){t.html&&(this.selfPromotedAccountHtml=t.html)},this.replaceUser=function(e,t){e.tooltip("hide"),e.parent().hasClass("preview-wrapper")&&e.unwrap(),e.replaceWith(t)},this.replaceUserAnimation=function(t,i){t.tooltip("hide"),this.before("teardown",function(){this.replaceUser(t,i)});var s=e("<div/>",{"class":t.attr("class"),style:t.attr("style")}).addClass("preview-wrapper");t.wrap(s);var n=t.css("minHeight");t.css({minHeight:0}).slideUp(70,function(){i.attr("style",t.attr("style")),t.replaceWith(i),i.delay(350).slideDown(70,function(){i.css({minHeight:n}),i.unwrap(),setTimeout(function(){i.tooltip("show"),setTimeout(function(){return i.tooltip("hide")},8e3)},500)})})},this.handlePreviewPromotedAccount=function(){if(!this.disabled&&this.selfPromotedAccountHtml){var t=e(this.selfPromotedAccountHtml),i=this.select("recSelector").first();this.attr.$accountPriorToPreview=i.clone(),this.replaceUserAnimation(i,t),t.find("a").on("click",function(e){e.preventDefault(),e.stopPropagation()})}},this.maybeRestoreAccountPriorToPreview=function(){var e=this.attr.$accountPriorToPreview;e&&(this.replaceUser(this.select("recSelector").first(),e),this.attr.$accountPriorToPreview=null)},this.after("initialize",function(){this.on(document,"dataDidGetUserRecommendations",this.handleRecommendationsResponse),this.on(document,"dataFailedToGetUserRecommendations",this.handleRefreshError),this.on(document,"dataFollowStateChange",this.doAfterFollowAction),this.on("click",{refreshRecsSelector:this.refreshRecommendations}),this.on(document,"dataDidGetSelfPromotedAccount",this.storeSelfPromotedAccount),this.on(document,"uiPromptbirdPreviewPromotedAccount",this.handlePreviewPromotedAccount),this.on(document,"uiPromptbirdDismissPrompt",this.maybeRestoreAccountPriorToPreview)})}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e};i(449),t.default=s}).call(t,i(10))},1407:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.attributes({maxExcludedRecsInLocalStorage:100,endpoints:{users:{url:"/i/users/recommendations",method:"GET",successEvent:"dataDidGetUserRecommendations",errorEvent:"dataFailedToGetUserRecommendations"},dismiss:{url:"/i/users/recommendations/hide",method:"POST",successEvent:"dataDidDismissRecommendation",errorEvent:"dataFailedToDismissUserRecommendation"},promoted_self:{url:"/i/users/promoted_self",method:"GET",successEvent:"dataDidGetSelfPromotedAccount",errorEvent:"dataFailedToGetSelfPromotedAccount"}},endpointUrlOverrides:{}}),this.refreshEndpoint=function(e){return this.hitEndpoint(e,{"Cache-Control":"max-age=0",Pragma:"no-cache"})},this.hitEndpoint=function(e,t){var i=this;t=t||{};var s=this.attr.endpoints[e],n=this.attr.endpointUrlOverrides[e]||s.url;return function(e,r){r=r||{},r.excluded=r.excluded||[];var o=r.visible||[];delete r.visible,i.JSONRequest({type:s.method,url:n,headers:t,dataType:"json",data:a({},r,{excluded:i.storage.pushAll("excluded",r.excluded).concat(o).join(",")}),eventData:r,success:s.successEvent,error:s.errorEvent},s.method)}},this.excludeUsers=function(e,t){this.storage.pushAll("excluded",t.userIds),this.trigger("dataDidExcludeUserRecommendations",t)},this.excludeFollowed=function(e,t){t=t||{},"following"===t.newState&&t.userId&&this.storage.push("excluded",t.userId)},this.after("initialize",function(){var e=(0,c.default)({withArray:!0,withMaxElements:!0,withUniqueElements:!0});this.storage=new e("excluded_wtf_recs"),this.storage.setMaxElements("excluded",this.attr.maxExcludedRecsInLocalStorage),this.on(document,"uiRefreshUserRecommendations",this.refreshEndpoint("users")),this.on(document,"uiGetUserRecommendations",this.hitEndpoint("users")),this.on(document,"uiDismissUserRecommendation",this.hitEndpoint("dismiss")),this.on(document,"uiAddWtfBlacklistUsers",this.excludeUsers),this.on(document,"dataFollowStateChange",this.excludeFollowed),this.on(document,"uiPromptbirdWantsPromotedSelf",this.hitEndpoint("promoted_self"))})}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},r=i(111),o=s(r),l=i(249),c=s(l),d=i(246),h=s(d),u=(0,o.default)(n,h.default);t.default=u},1408:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({userSelector:".js-actionable-user",itemType:"user"}),this.scribeDismissRecommendation=function(e,t){this.scribeInteraction("dismiss",t.oldUser),t.newUser&&this.scribeInteraction({element:"replace",action:"results"},t.newUser,{referring_event:"replace"})},this.scribeRecommendationResults=function(t,i){var s=this,n=[];t.emptyResponse||this.$node.find(this.attr.userSelector).map(function(t,i){return n.push(s.interactionData(e(i),{position:t}))});var a=t.emptyResponse?"no_results":"results";this.scribeInteractiveResults({element:i,action:a},n,t,{referring_event:i})},this.scribeRecommendations=function(e,t){var i=t.sourceEventData||{},s=t.initialResults||i.initialResults;s?(this.scribeRecommendationResults(t,"initial"),t.emptyResponse||this.scribeRecommendationImpression(t)):(this.scribe({action:"refresh"},t,{event_info:i.refreshType}),this.scribeRecommendationResults(t,"newer"))},this.scribeEmptyRecommendationsResponse=function(e,t){this.scribeRecommendations(e,a({},t,{emptyResponse:!0}))},this.scribeRecommendationImpression=function(e){this.scribe("impression",e)},this.scribeLinkClicks=function(e,t){this.scribe({component:"user_recommendations",element:t.element,action:"click"})},this.after("initialize",function(){this.on(document,"uiDidDismissUserRecommendation",this.scribeDismissRecommendation),this.on(document,"uiDidGetRecommendations",this.scribeRecommendations),this.on(document,"uiGotEmptyRecommendationsResponse",this.scribeEmptyRecommendationsResponse),this.on(document,"uiClickedWtfLink",this.scribeLinkClicks)})}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},r=i(111),o=s(r),l=i(138),c=s(l),d=i(141),h=s(d);t.default=(0,o.default)(n,c.default,h.default)}).call(t,i(10))},1409:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.scribeImpression=function(e,t){this.scribe(a({},t.scribeContext,{element:"wtf_import_prompt",action:"impression"}))},this.scribeToggle=function(e,t){this.scribe(a({},t.scribeContext,{element:"wtf_import_prompt",action:t.action}),{section:"other_services"})},this.after("initialize",function(){this.on("uiWTFImportPromptImpression",this.scribeImpression),this.on("uiWTFImportPromptToggle",this.scribeToggle)})}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},r=i(111),o=s(r),l=i(142),c=s(l);t.default=(0,o.default)(n,c.default)},1420:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(111),a=s(n),r=i(894),o=s(r);t.default=(0,a.default)(o.default)},1449:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({promotedTweetSelector:".promoted-tweet:not(.scribed)",promotedTweetForImpressionsSelector:".promoted-tweet:not(.presented)",scrollThrottle:100}),this.processTweets=function(){var t=this,i=d.default.getGlobalNavHeight(),s=this.$node.find(this.attr.promotedTweetSelector),n=this.$node.find(this.attr.promotedTweetForImpressionsSelector),a=s.filter(function(s,n){return d.default.isContainedInViewport(t.$window,e(n),i,0)}),r=n.filter(function(s,n){return d.default.isPartiallyContainedInViewport({$container:t.$window,$element:e(n),topThreshold:i,fractionInViewport:0})});if(r.length){r.addClass("presented");var o=r.map(function(t,i){return{impressionId:e(i).data("impression-id"),disclosureType:e(i).data("disclosure-type")}}).get();this.trigger("uiPromotedTweets1pxInViewport",{items:o})}if(a.length){a.addClass("scribed");var l=a.map(function(t,i){return{impressionId:e(i).data("impression-id"),disclosureType:e(i).data("disclosure-type")}}).get();this.trigger("uiPromotedTweetsInViewport",{items:l})}},this.after("initialize",function(t,i){this.$window=e(window),i&&i.inOverlay?this.on(t,"scroll resize",l.default.throttle(this.processTweets.bind(this),this.attr.scrollThrottle)):this.on(document,"scroll resize",l.default.throttle(this.processTweets.bind(this),this.attr.scrollThrottle)),this.on(document,"uiSwiftLoaded uiPageVisible uiPageChanged uiHasInjectedNewTimeline uiHasInjectedOldTimelineItems",this.processTweets)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(126),l=s(o),c=i(177),d=s(c);t.default=(0,r.default)(n)}).call(t,i(10))},1451:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({scribeMediaGridResults:!1,mediaGalleryScribeComponent:"media_gallery",keepUnrenderedMediaItems:!1,numMediaItemsToKeep:30,gridNumRowsLimit:2,gridRowHeight:180,gridMargin:1.5,gridRowRatio:2.5,gridPanoramaRatio:3,gridContainerSelector:"#stream-items-id",mediaSelector:".AdaptiveStreamGridImage",mediaOverlaySelector:".media-overlay",requiredAttrsForGallery:["data-resolved-url-large","data-source-url","data-tweet-id","data-status-id","data-height","data-width","class"]}),this.renderAll=function(){clearTimeout(this.renderDelay),this.renderDelay=setTimeout(this.render.bind(this),20)},this.render=function(){this.currentRow=this.getCurrentRow();var e=this.getUnprocessedMedia();if(!e.length)return void this.scribeResults();for(var t=0,i=0,s=[],n=0;n<e.length;n++){if(this.attr.gridNumRowsLimit&&this.currentRow>this.attr.gridNumRowsLimit){if(this.attr.keepUnrenderedMediaItems&&n<this.attr.numMediaItemsToKeep){this.processHiddenMedia(e.eq(n));continue}e.slice(n).remove();break}var a=e.eq(n);!t&&(t=parseInt(a.attr("data-height")));var r=this.scaleGridMedia(a,t);isNaN(r)?a.remove():(i+=r,s.push(a),i/t>=this.attr.gridRowRatio&&(this.renderGridRow(s,i,t),this.currentRow++,this.setCurrentRow(),i=0,t=0,s=[]))}this.renderLastRow(),this.scribeResults()},this.getCurrentRow=function(){var e=parseInt(this.$node.attr("data-processed-rows"));return e?this.currentRow=e:this.currentRow=1,this.currentRow},this.setCurrentRow=function(){this.$node.attr("data-processed-rows",this.currentRow)},this.processHiddenMedia=function(t){var i=this.attr.requiredAttrsForGallery,s=[];e.each(t[0].attributes,function(){this.specified&&i.indexOf(this.name)<0&&s.push(this.name)}),s.forEach(function(e){return t.removeAttr(e)}),t.attr("data-grid-processed","true"),t.hide(),t.empty()},this.scaleGridMedia=function(e,t,i){var s=parseInt(e.attr("data-height")),n=parseInt(e.attr("data-width")),a=t/s*n,r=s/n;return n/s>this.attr.gridPanoramaRatio&&(e.attr("data-pano","true"),a=t*this.attr.gridPanoramaRatio,r=1/this.attr.gridPanoramaRatio),e.attr({"scaled-width":a,"height-width-ratio":r}),i&&(e.height(t),e.width(a)),a},this.renderGridRow=function(t,i,s){var n=this,a=this.currentGridWidth-t.length*this.attr.gridMargin,r=a/i,o=s*r;e.each(t,function(t,i){var s=e(i),a=parseInt(s.attr("scaled-width"))*r,l=a/n.currentGridWidth;s.height(o),s.width(Math.round(a)),s.attr("scaled-width-ratio",l),s.attr("data-grid-processed","true"),s.addClass("enabled"),0===t&&s.addClass("clear"),1===n.currentRow&&s.addClass("first-row"),s.removeAttr("scaled-width"),n.renderMediaImage(s)})},this.renderLastRow=function(){var t=this,i=this.getUnprocessedMedia();i.length&&i.each(function(i,s){var n=e(s);t.scaleGridMedia(n,t.attr.gridRowHeight,!0),t.renderMediaImage(n),n.addClass("enabled")})},this.renderMediaImage=function(e){var t=this;if(!e.attr("data-loaded")){var i=function(i){return t.loadMediaSuccess(e,i)},s=function(){return t.loadMediaFail(e)};l.default.load(e.attr("data-resolved-url-small"),i,s)}},this.loadMediaSuccess=function(e,t){if(e.attr("data-pano")){var i=Math.round(e.height()/parseInt(e.attr("data-height"))*parseInt(e.attr("data-width")));t.width(i),t.css("margin-left",(e.width()-i)/2)}e.hide().prepend(t).fadeIn(),e.attr("data-loaded",!0)},this.loadMediaFail=function(e){this.markFailedMedia(e),e.remove()},this.markFailedMedia=function(e){var t=void 0;if(e.hasClass("clear")){if(t=e.next(this.attr.mediaSelector),!t.length)return}else for(t=e.prev(this.attr.mediaSelector);t.length&&!t.hasClass("clear");)t=t.prev(this.attr.mediaSelector);
t.attr("data-grid-processed","false"),t.nextAll(this.attr.mediaSelector).attr("data-grid-processed","false"),t.nextAll(this.attr.mediaSelector).removeClass("clear"),clearTimeout(this.resetTimer),this.resetTimer=setTimeout(this.render.bind(this),50)},this.possiblyResizeMediaDimensions=function(){var e=this.currentGridWidth,t=this.getGridWidth(),i=this.getProcessedMedia();if(t===e||!i.length)return void this.trigger("uiMediaGridDidNotResize");for(var s=0;s<i.length;s++){var n=i.eq(s),a=parseFloat(n.attr("scaled-width-ratio")),r=parseFloat(n.attr("height-width-ratio"));if(!isNaN(a)&&!isNaN(r)){var o=a*t,l=r*o;if(n.attr("data-pano")){var c=n.find("img"),d=c.width()/e*t;c.width(Math.round(d)),c.css("margin-left",(o-d)/2)}n.width(Math.floor(o)),n.height(Math.floor(l))}}this.trigger("uiMediaGridDidResize"),this.currentGridWidth=t},this.getGridWidth=function(){var e=this.select("gridContainerSelector").length&&this.select("gridContainerSelector")[0];return Math.floor(e.getBoundingClientRect().width)},this.getMedia=function(){return this.select("mediaSelector")},this.getProcessedMedia=function(){return this.getMedia().filter('[data-grid-processed="true"]')},this.getUnprocessedMedia=function(){return this.getMedia().filter(':not([data-grid-processed="true"])')},this.getUnscribedMedia=function(){return this.getMedia().filter(':not([data-scribed="true"])[data-grid-processed="true"]')},this.openGallery=function(t){t.preventDefault(),t.stopPropagation();var i=e(t.target).closest(this.attr.mediaSelector),s=i.hasClass("video");this.trigger(t.target,"uiOpenGallery");var n=i.attr("data-url"),a=s?"video":"photo",r={url:n,mediaType:a,scribeContext:{component:this.attr.mediaGalleryScribeComponent}};this.trigger("uiMediaThumbnailClick",r)},this.scribeResults=function(){if(this.attr.scribeMediaGridResults){var t=this.getUnscribedMedia(),i={thumbnails:[],scribeContext:{component:this.attr.mediaGalleryScribeComponent}};e.each(t,function(t,s){i.thumbnails.push(e(s).attr("data-url")),e(s).attr("data-scribed",!0)}),this.trigger("uiMediaGalleryResults",i)}},this.after("initialize",function(){this.select("gridContainerSelector").length&&(this.possiblyResizeMediaDimensions(),this.currentGridWidth=this.getGridWidth(),this.render(),this.on("uiHasInjectedOldTimelineItems",this.renderAll),this.on("click",{mediaOverlaySelector:this.openGallery}),this.on(window,"resize",r.default.throttle(this.possiblyResizeMediaDimensions.bind(this),100)))})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(126),r=s(a),o=i(924),l=s(o);t.default=n}).call(t,i(10))},1472:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e){(0,r.default)({endpoint:e.timeline_url});var t=d.default.mixin(u.default,D.default,p.default,g.default,S.default,y.default,T.default);l.default.attachTo(document,e),t.attachTo(".GridTimeline",e,{containerSelector:".GridTimeline-items",itemsSelector:".GridTimeline-items",timelineEndSelector:".GridTimeline-end",errorMessageSelector:".GridTimeline-footer .Icon--fail",streamItemsSelector:".GridTimeline-items",streamUserSelector:".GridTimeline-items .js-actionable-user",disableProfilePopup:null==e.disableProfilePopup||e.disableProfilePopup,selectedClass:"is-selected",selectedSelector:".js-stream-item.is-selected",firstItemSelector:".js-stream-item:first-child",profileCardSelector:".ProfileCard",itemType:"user",eventData:{scribeContext:{component:"user"}}})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1128),r=s(a),o=i(1149),l=s(o),c=i(1172),d=s(c),h=i(1179),u=s(h),f=i(889),p=s(f),m=i(892),g=s(m),v=i(1219),S=s(v),w=i(1220),y=s(w),b=i(1473),T=s(b),C=i(1188),D=s(C);t.default=n},1473:function(e,t){"use strict";function i(){this.defaultAttrs({navigationContainerSelector:".GridTimeline-items > .Grid, .GridTimeline-items > .ScrollBump",navigationContainerCellSelector:".Grid-cell"}),this.around("next",function(e,t){var i=t.closest(this.attr.navigationContainerCellSelector).next().find(this.attr.genericItemSelector).first();return 0===i.length&&(i=t.closest(this.attr.navigationContainerSelector).next().find(this.attr.genericItemSelector).first()),i}),this.around("prev",function(e,t){var i=t.closest(this.attr.navigationContainerCellSelector).prev().find(this.attr.genericItemSelector).first();return 0===i.length&&(i=t.closest(this.attr.navigationContainerSelector).prev().find(this.attr.genericItemSelector).last()),i})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},1492:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e){(0,r.default)(e),l.default.attachTo(".advanced-search",e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a=i(161),r=s(a),o=i(1796),l=s(o)},1493:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e){(0,l.default)(e),S.default.attachTo(".AdaptiveStreamUserGallery",(0,r.default)(e,e.scribeComponent.userGallery)),d.default.attachTo(document),p.default.attachTo(".AdaptiveRelatedSearches",(0,r.default)(e,e.scribeComponent.relatedSearches)),u.default.attachTo(document),g.default.attachTo(".AdaptiveSpellingSuggestion",(0,r.default)(e,e.scribeComponent.spellingSuggestion))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a=i(1494),r=s(a),o=i(1495),l=s(o),c=i(1510),d=s(c),h=i(1511),u=s(h),f=i(1512),p=s(f),m=i(1513),g=s(m),v=i(964),S=s(v)},1494:function(e,t){"use strict";function i(e,t){return s({},e,{eventData:{scribeContext:{component:t}}})}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e};t.default=i},1495:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e){var t="#timeline";(0,h.default)(e),(0,f.default)(e),C.default.scribeData.search_details=e.searchDetails,(0,v.default)(e),(0,b.default)(".js-wtf-module",e,{wtfOptions:e.wtfOptions}),z.default.attachTo(document,{containerSelector:t}),V.default.attachTo(document),H.default.attachTo(t,{eventData:e.eventData}),x.default.attachTo(t,{page:"search"}),k.default.attachTo(document,e),e.isUserGridTimeline?(0,w.default)(a({},e,{disableProfilePopup:!1,showWithIdSelector:".ProfileCard-bg, .ProfileCard-avatarLink, .ProfileNameTruncated-link, .ProfileCard-screennameLink, .js-user-profile-link",timeline_url:e.searchEndpoint})):e.isMediaGridTimeline?(0,m.default)(a({},e,{itemsSelector:"#stream-items-id",tweetWithReplyDialogSelector:".grid-tweet",gridNumRowsLimit:null,mediaGalleryScribeComponent:"tweet"}),e.searchEndpoint,"tweet"):(0,c.default)(e),Q.default.attachTo("#search-settings-dialog"),M.default.attachTo(document),O.default.attachTo(document),B.default.attachTo(".AdaptiveFiltersBar-target",(0,o.default)(e,"search_filter")),e.typeaheadData.followedSearches.enabled&&(ee.default.attachTo(document,e),q.default.attachTo(".FollowSearchNux")),E.default.attachTo(".SearchExtrasDropdown"),F.default.attachTo(".SearchExtrasDropdown-savedSearch",e),B.default.attachTo(".SearchExtrasDropdown-target",(0,o.default)(e,"search_dropdown")),A.default.attachTo(document),X.default.attachTo(".SidebarFilterModule",(0,o.default)(e,e.scribeComponent.sidebarFilterModule)),B.default.attachTo(".SidebarFilterModule-advanced",(0,o.default)(e,e.scribeComponent.sidebarFilterModule)),ie.default.setGlobalNavSelector(".SearchNavigation")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e};t.default=n;var r=i(1494),o=s(r),l=i(1496),c=s(l),d=i(161),h=s(d),u=i(199),f=s(u),p=i(1499),m=s(p),g=i(1389),v=s(g),S=i(1472),w=s(S),y=i(1403),b=s(y),T=i(134),C=s(T),D=i(1199),k=s(D),I=i(1501),M=s(I),R=i(1502),O=s(R),P=i(1503),A=s(P),U=i(1306),x=s(U),j=i(1504),F=s(j),L=i(1420),E=s(L),N=i(838),z=s(N),G=i(958),V=s(G),$=i(964),B=s($),W=i(1305),H=s(W),Y=i(1505),q=s(Y),K=i(1506),Q=s(K),J=i(1508),X=s(J),Z=i(1509),ee=s(Z),te=i(178),ie=s(te)},1496:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e){var t=a({},e,{endpoint:e.searchEndpoint});(0,o.default)(t),(0,c.default)("#timeline",a({},t,{excludeUserActions:!0,scrollTopOnNewItemsClick:!1}));var i=[v.default,w.default];m.default.attachTo(document),f.default.mixin.apply(this,i).attachTo("#timeline",t,{tweetItemSelector:".tweet, .grid-tweet"}),C.default.mixin(v.default).attachTo("#timeline",t);var s=".show-popup-with-id, .js-user-profile-link",n=".ProfileCard-bg, .ProfileCard-avatarLink, .ProfileNameTruncated-link, .ProfileCard-screennameLink";h.default.mixin(b.default).attachTo("#timeline",t,{showWithIdSelector:s+", "+n,tweetWithReplyDialogSelector:".grid-tweet",itemType:"tweet",eventData:{scribeContext:{component:"tweet"}}}),k.default.attachTo("#timeline",t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},r=i(1128),o=s(r),l=i(1131),c=s(l),d=i(1497),h=s(d),u=i(1339),f=s(u),p=i(1298),m=s(p),g=i(1498),v=s(g),S=i(1328),w=s(S),y=i(1326),b=s(y),T=i(954),C=s(T),D=i(1449),k=s(D);t.default=n},1497:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({separationModuleSelector:".AdaptiveSearchTimeline-separationModule",prevToModuleClass:"AdaptiveSearchTimeline-beforeModule"}),this.setPrevToModuleClass=function(){this.select("separationModuleSelector").prev().addClass(this.attr.prevToModuleClass)},this.initialItemsDisplayed=function(){for(var t=this,i=this.select("genericItemSelector"),s=[],n=function(i,n){if(e(n).data("item-type")){var a=e(n),r=t.findFirstItemContent(a);!r.length&&a.is(t.attr.streamItemContentsSelector)&&(r=a);var o=t.interactionData(r);switch(o.itemType){case"user":s.push(o)}}},a=0,r=i.length;a<r;a++)n(a,i[a]);this.reportUsers(s)},this.reportItemsDisplayed=function(e,t){var i=[];t.items.forEach(function(e){switch(e.itemType){case"user":i.push(e)}}),this.reportUsers(i)},this.reportUsers=function(e){this.trigger("uiUsersDisplayed",{users:e})},this.after("initialize",function(){this.setPrevToModuleClass(),this.initialItemsDisplayed(),this.on("uiHasInjectedNewTimeline uiHasInjectedOldTimelineItems uiHasInjectedRangeTimelineItems",this.reportItemsDisplayed),this.on("uiHasInjectedNewTimeline uiHasInjectedOldTimelineItems uiHasInjectedRangeTimelineItems",this.setPrevToModuleClass)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1171),r=s(a),o=i(1188),l=s(o),c=i(1451),d=s(c),h=i(892),u=s(h),f=i(138),p=s(f),m=i(1498),g=s(m);t.default=r.default.mixin(n,l.default,d.default,u.default,p.default,g.default)}).call(t,i(10))},1498:function(e,t){"use strict";function i(){this.defaultAttrs({userGallerySelector:".AdaptiveStreamUserGallery",userGalleryItemSelector:".AdaptiveStreamUserGallery-user"}),this.getItemPosition=function(e){var t=e.closest(this.attr.userGalleryItemSelector);if(!(t.length>0))return-1;var i=t.closest(this.attr.userGallerySelector),s=i.find(this.attr.userGalleryItemSelector),n=s.index(t);return n!==-1?n:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},1499:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,i){var s=a({},e,{endpoint:t,itemType:i,eventData:{scribeContext:{component:i}}});(0,c.default)("#timeline",s),(0,o.default)(s),f.default.attachTo("#timeline",s,{tweetItemSelector:".grid-tweet"}),h.default.attachTo("#timeline",s)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},r=i(1128),o=s(r),l=i(1131),c=s(l),d=i(1500),h=s(d),u=i(1339),f=s(u);t.default=n},1500:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({itemType:"media"}),this.after("initialize",function(){this.attr.allowInfiniteScroll||this.hideMoreSpinner()})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1172),r=s(a),o=i(1179),l=s(o),c=i(1451),d=s(c),h=i(1188),u=s(h),f=i(889),p=s(f);t.default=r.default.mixin(n,u.default,l.default,p.default,d.default)},1501:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.getSettings=function(e,t){this.get({url:this.getUrl(),success:"dataSearchSettingsGetSuccess",error:"dataSearchSettingsGetError",useOAuthSessionAuth:!0})},this.saveSettings=function(e,t){this.post({acceptEmptyStringAsJsonResponse:!0,url:this.saveUrl(),data:t,dataType:this.DATA_TYPES.TEXT,success:"dataSearchSettingsSaveSuccess",error:"dataSearchSettingsSaveError",useOAuthSessionAuth:!0,contentType:this.CONTENT_TYPES.APPLICATION_JSON})},this.getUserId=function(){return d.default.user.id},this.getUrl=function(){return"https://api.twitter.com/1.1/strato/column/User/"+this.getUserId()+"/search/searchSafetyReadonly"},this.saveUrl=function(){return"https://api.twitter.com/1.1/strato/column/User/"+this.getUserId()+"/search/searchSafety"},this.after("initialize",function(){this.on("uiSearchSettingsGet",this.getSettings),this.on("uiSearchSettingsSave",this.saveSettings)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(246),l=s(o),c=i(136),d=s(c);t.default=(0,r.default)(n,l.default)},1502:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.scribeImpression=function(e,t){this.scribe({component:"safe_search_settings",action:"impression"})},this.scribeSettingsSave=function(e,t){this.scribe({component:"safe_search_settings",element:"filtering",action:t.optInFiltering?"on":"off"}),this.scribe({component:"safe_search_settings",element:"blocking",action:t.optInBlocking?"on":"off"})},this.after("initialize",function(){this.on("uiSearchSettingsDialogOpen",this.scribeImpression),this.on("uiSearchSettingsSave",this.scribeSettingsSave)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o);t.default=(0,r.default)(n,l.default)},1503:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.scribeSidebarFilterClicked=function(e,t){this.scribe("navigate",t,{url:t.url})},this.scribeSidebarModuleCollapseClicked=function(e,t){this.scribe("collapse",t)},this.scribeSidebarModuleExpandClicked=function(e,t){this.scribe("expand",t)},this.after("initialize",function(){this.on("uiSearchSidebarFilterClicked",this.scribeSidebarFilterClicked),this.on("uiSearchSidebarModuleCollapsed",this.scribeSidebarModuleCollapseClicked),this.on("uiSearchSidebarModuleExpanded",this.scribeSidebarModuleExpandClicked)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o);t.default=(0,r.default)(n,l.default)},1504:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({saveOrRemoveSelector:".js-toggle-saved-search-link",addSavedSearchSelector:".js-add-search",removeSavedSearchSelector:".js-remove-search",textLabelSelector:".SearchExtrasDropdown-label",addSavedSearchClass:"js-add-search",removeSavedSearchClass:"js-remove-search",dataIdAttr:"data-id",dataOriginalTitleAttr:"data-original-title",query:""}),this.addSavedSearch=function(e,t){e.preventDefault(),this.trigger("uiAddSavedSearch",{query:this.attr.query,scribeComponent:"search_dropdown"}),this.trigger("uiCloseDropdowns")},this.removeSavedSearch=function(e,t){e.preventDefault(),this.savedSearchId=this.select("removeSavedSearchSelector").attr(this.attr.dataIdAttr),this.trigger("uiRemoveSavedSearch",{id:this.savedSearchId,scribeComponent:"search_dropdown"}),this.trigger("uiCloseDropdowns")},this.savedSearchAdded=function(e,t){this.trigger("uiShowMessage",{message:"Saved search added successfully."}),this.select("saveOrRemoveSelector").removeClass(this.attr.addSavedSearchClass).addClass(this.attr.removeSavedSearchClass).attr(this.attr.dataIdAttr,t.id_str).attr(this.attr.dataOriginalTitleAttr,"Remove this saved search"),this.select("textLabelSelector").text("Remove this saved search")},this.savedSearchRemoved=function(e,t){this.trigger("uiShowMessage",{message:"Saved search removed successfully."}),this.savedSearchId=this.select("removeSavedSearchSelector").attr(this.attr.dataIdAttr),t.id_str===this.savedSearchId&&(this.select("saveOrRemoveSelector").removeClass(this.attr.removeSavedSearchClass).addClass(this.attr.addSavedSearchClass).attr(this.attr.dataOriginalTitleAttr,"Save this search").removeAttr(this.attr.dataIdAttr),this.select("textLabelSelector").text("Save this search"))},this.after("initialize",function(){this.on("click",{addSavedSearchSelector:this.addSavedSearch,removeSavedSearchSelector:this.removeSavedSearch}),this.on(document,"dataAddedSavedSearch",this.savedSearchAdded),this.on(document,"dataRemovedSavedSearch",this.savedSearchRemoved)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(123);s(o);t.default=(0,r.default)(n)},1505:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.attributes({storeName:"follow_search_nux",closeSelector:".js-action-dismiss"}),this.initStore=function(){this.store||(this.store=new l.default(this.attr.storeName+"_"+d.default.user.id))},this.shouldShowModule=function(){return this.initStore(),!this.store.getItem("seen_nux")&&(this.store.setItem("seen_nux","1"),!0)},this.showModule=function(){this.shouldShowModule()&&this.$node.removeClass("u-hidden")},this.hideModule=function(){this.$node.fadeOut()},this.after("initialize",function(){this.on(document,"uiSwiftLoaded uiPageChanged",this.showModule),this.on("click",{closeSelector:this.hideModule})})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(202),l=s(o),c=i(136),d=s(c);t.default=(0,r.default)(n)},1506:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({triggerSelector:".js-openSearchSettings",confirmSelector:".js-confirm",cancelSelector:".js-close",settingsDropdownSubtextSelector:".SearchExtrasDropdown-settings .SearchExtrasDropdown-subtext"}),this.before("openWhenTriggerClicked",function(e,t){this.trigger(document,"uiSearchSettingsDialogOpen")}),this.setupDialog=function(e,t){this.state={optInFiltering:t.optInFiltering,optInBlocking:t.optInBlocking},this.dom.$filteringCheckbox.prop("checked",this.state.optInFiltering).prop("disabled",!1),this.dom.$blockingCheckbox.prop("checked",this.state.optInBlocking).prop("disabled",!1),this.updateDropdownSubtext()},this.updateDropdownSubtext=function(e,t){var i="";this.state=t,this.state.optInFiltering&&this.state.optInBlocking?i=p.BOTH_ENABLED:!this.state.optInFiltering&&this.state.optInBlocking?i=p.FILTERING_DISABLED:this.state.optInFiltering&&!this.state.optInBlocking?i=p.BLOCKING_DISABLED:this.state.optInFiltering||this.state.optInBlocking||(i=p.BOTH_DISABLED),this.dom.$settingsDropdownSubtext.text(i)},this.onCancel=function(e,t){this.dom.$filteringCheckbox.prop("checked",this.state.optInFiltering),this.dom.$blockingCheckbox.prop("checked",this.state.optInBlocking)},this.onConfirm=function(e,t){var i=this.dom.$filteringCheckbox.is(":checked"),s=this.dom.$blockingCheckbox.is(":checked");this.state.optInFiltering===i&&this.state.optInBlocking===s||this.trigger(document,"uiSearchSettingsSave",{optInFiltering:i,optInBlocking:s}),this.close()},this.onCancel=function(e,t){this.dom.$filteringCheckbox.prop("checked",this.state.optInFiltering),this.dom.$blockingCheckbox.prop("checked",this.state.optInBlocking)},this.onSaveSuccess=function(){this.trigger("uiShowMessage",{message:"Search settings updating..."}),setTimeout(this.refreshPage,1e3)},this.refreshPage=function(){document.location.reload(!0)},this.onSaveError=function(){this.trigger("uiShowError",{message:"Something went wrong. Give it a minute, then try again."})},this.after("initialize",function(){this.attachChild(f.default,this.$node),this.state={optInFiltering:null,optInBlocking:null},this.dom={$settingsDropdownSubtext:e(this.attr.settingsDropdownSubtextSelector)},this.on(document,"dataSearchSettingsSaveSuccess",this.onSaveSuccess),this.on(document,"dataSearchSettingsSaveError",this.onSaveError),this.on("uiSafeSearchSettingsDisplayed",this.updateDropdownSubtext),this.on("uiSearchSettingsSave",this.close),this.on("click",{confirmSelector:"uiSafeSearchSettingWantsSave",cancelSelector:"uiSafeSearchSettingsCancel"})})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(163),l=s(o),c=i(123),d=(s(c),i(233)),h=s(d),u=i(1507),f=s(u);t.default=(0,r.default)(l.default,h.default,n);var p={BOTH_ENABLED:"Hiding sensitive content",FILTERING_DISABLED:"Safe search off",BLOCKING_DISABLED:"Blocked and muted accounts included",BOTH_DISABLED:"Showing sensitive content"}}).call(t,i(10))},1507:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({filteringCheckboxSelector:".SearchSettings-toggleInput--sensitive",blockingCheckboxSelector:".SearchSettings-toggleInput--accounts"}),this.toggleSettings=function(e,t){this.state={optInFiltering:t.optInFiltering,optInBlocking:t.optInBlocking},this.dom.$filteringCheckbox.prop("checked",this.state.optInFiltering).prop("disabled",!1),this.dom.$blockingCheckbox.prop("checked",this.state.optInBlocking).prop("disabled",!1),this.trigger("uiSafeSearchSettingsDisplayed",this.state)},this.onSave=function(e,t){var i=this.dom.$filteringCheckbox.is(":checked"),s=this.dom.$blockingCheckbox.is(":checked");this.state.optInFiltering!==i||this.state.optInBlocking!==s?this.trigger(document,"uiSearchSettingsSave",{optInFiltering:i,optInBlocking:s}):this.trigger(document,"uiSearchSettingsNoChange")},this.onCancel=function(e,t){this.dom.$filteringCheckbox.prop("checked",this.state.optInFiltering),this.dom.$blockingCheckbox.prop("checked",this.state.optInBlocking)},this.after("initialize",function(){this.dom={$filteringCheckbox:this.select("filteringCheckboxSelector"),$blockingCheckbox:this.select("blockingCheckboxSelector")},this.state={optInFiltering:null,optInBlocking:null},this.on(document,"uiSafeSearchSettingsCancel",this.onCancel),this.on(document,"uiSafeSearchSettingWantsSave",this.onSave),this.on(document,"uiSwiftLoaded uiPageChanged","uiSearchSettingsGet"),this.on(document,"dataSearchSettingsGetSuccess",this.toggleSettings)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=(0,r.default)(n);t.default=o},1508:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({collapseToggleSelector:".SidebarFilterModule-toggle",filterSelectSelector:".SidebarFilterModule-select"}),this.onChangeFilter=function(t){var i=e(t.target);this.trigger("uiNavigate",{href:i.val()}),this.trigger("uiSearchSidebarFilterClicked",{scribeContext:{element:i.find("option:selected").attr("data-nav")},url:i.val()})},this.onToggleClick=function(t){var i=e(t.target);this.$node.hasClass("is-collapsed")?(i.text("Hide"),this.$node.removeClass("is-collapsed"),this.trigger("uiSearchSidebarModuleExpanded")):(i.text("Show"),this.$node.addClass("is-collapsed"),this.trigger("uiSearchSidebarModuleCollapsed")),i.blur()},this.after("initialize",function(){this.on("change",{filterSelectSelector:this.onChangeFilter}),this.on("click",{collapseToggleSelector:this.onToggleClick})})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(123);s(o);t.default=(0,r.default)(n)}).call(t,i(10))},1509:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.attributes({query:"",buttonSelector:".FollowSearchButton--srp",followButtonSelector:".FollowSearchButton--srp .FollowSearchButton-follow",unfollowButtonSelector:".FollowSearchButton--srp .FollowSearchButton-unfollow"}),this.getFollowButtonState=function(e,t){this.trigger("uiGetFollowSearchStatus",{query:this.attr.query})},this.showFollowButton=function(e,t){this.updateFollowButtonState(t.isFollowing),this.select("buttonSelector").removeClass("u-hidden")},this.followSearch=function(){this.updateFollowButtonState(!0),this.trigger("uiAddFollowSearch",{query:this.attr.query})},this.unfollowSearch=function(){this.updateFollowButtonState(!1),this.trigger("uiRemoveFollowSearch",{query:this.attr.query})},this.updateFollowButtonStateWithData=function(e,t){this.updateFollowButtonState(t.isFollowing)},this.updateFollowButtonState=function(e){this.select("buttonSelector").toggleClass("following",!!e),this.select("buttonSelector").toggleClass("not-following",!e)},this.after("initialize",function(){this.on("click",{followButtonSelector:this.followSearch,unfollowButtonSelector:this.unfollowSearch}),this.on(document,"uiSwiftLoaded uiPageChanged",this.getFollowButtonState),this.on(document,"dataGetFollowSearchStatusSuccess",this.showFollowButton),this.on(document,"dataAddFollowSearchSuccess",this.updateFollowButtonStateWithData)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a);t.default=(0,r.default)(n)},1510:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.scribeRelatedSearchClicked=function(e,t){this.scribe("search",t)},this.after("initialize",function(){this.on("uiRelatedSearchClicked",this.scribeRelatedSearchClicked)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o);t.default=(0,r.default)(n,l.default)},1511:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.scribeOriginalQueryClicked=function(e,t){this.scribe({element:"spelling_revert",action:"search"},t)},this.scribeCorrectedQueryClicked=function(e,t){this.scribe({element:"corrected_query",action:"search"},t)},this.after("initialize",function(){this.on("uiSpellingSuggestionOriginalQueryClicked",this.scribeOriginalQueryClicked),this.on("uiSpellingSuggestionCorrectedQueryClicked",this.scribeCorrectedQueryClicked)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o);t.default=(0,r.default)(n,l.default)},1512:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({relatedSearchSelector:".AdaptiveRelatedSearches-item"}),this.onClickRelatedSearch=function(){this.trigger("uiRelatedSearchClicked")},this.after("initialize",function(){this.on("click",{relatedSearchSelector:this.onClickRelatedSearch})})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a);t.default=(0,r.default)(n)},1513:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({originalQuerySelector:".AdaptiveSpellingSuggestion-originalQuery",correctedQuerySelector:".AdaptiveSpellingSuggestion-correctedQuery"}),this.onClickOriginalQuery=function(){this.trigger("uiSpellingSuggestionOriginalQueryClicked")},this.onClickCorrectedQuery=function(){this.trigger("uiSpellingSuggestionCorrectedQueryClicked")},this.after("initialize",function(){this.on("click",{originalQuerySelector:this.onClickOriginalQuery,correctedQuerySelector:this.onClickCorrectedQuery})})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a);t.default=(0,r.default)(n)},1514:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(t){(0,o.default)(t),(0,c.default)(a({},t,{src:"search-home",show_context:!1})),h.default.attachTo("#search-home-form",a({},t,{magnifyingGlassSelector:".search-btn",inputFieldSelector:"#search-home-input",eventData:{scribeContext:{component:"search_home_searchbox",element:""}}})),v.default.attachTo("#search-home-form",{noTeardown:!0}),m.default.attachTo("#search-home-form",{inputSelector:"#search-home-input"}),f.default.attachTo("#search-home-form",{inputSelector:"#search-home-input",nextElementSelector:".search-btn",accountsShortcutShow:!0,autocompleteAccounts:!1,parseHashflags:!0,typeaheadSrc:"SEARCH_BOX",datasourceRenders:[["recentSearches",["recentSearches"]],["savedSearches",["savedSearches"]],["topics",["topics"]],["accounts",["accounts"]]],deciders:a({},t.typeaheadData,{showSocialContext:t.typeaheadData.showSearchAccountSocialContext}),eventData:{scribeContext:{component:"search_home_searchbox",element:"typeahead"}}}),w.default.attachTo("#search-operators-dialog"),e("#search-home-input").focus()}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e};t.default=n;var r=i(161),o=s(r),l=i(1389),c=s(l),d=i(1515),h=s(d),u=i(416),f=s(u),p=i(433),m=s(p),g=i(1516),v=s(g),S=i(1517),w=s(S)}).call(t,i(10))},1517:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({searchOperatorsLinkSelector:".search-operators-link"}),this.after("initialize",function(){this.on(document,"click",{searchOperatorsLinkSelector:this.open})})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(163),l=s(o);t.default=(0,r.default)(n,l.default)},1518:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e){(0,l.default)(e),d.default.attachTo(document),g.default.attachTo(".AdaptiveNewsLargeImageHeadline",(0,r.default)(e,e.scribeComponent.newsGalleryLarge),{descriptionSelector:".AdaptiveNewsLargeImageHeadline-description",imageSelector:".AdaptiveNewsLargeImageHeadline-image",titleSelector:".AdaptiveNewsLargeImageHeadline-title"}),T.default.attachTo(".AdaptiveNewsLargeImageHeadline",(0,r.default)(e,e.scribeComponent.newsGalleryLarge)),g.default.attachTo(".AdaptiveNewsSmallImageHeadline",(0,r.default)(e,e.scribeComponent.newsGallerySmall),{descriptionSelector:".AdaptiveNewsSmallImageHeadline-description",imageSelector:".AdaptiveNewsSmallImageHeadline-image",titleSelector:".AdaptiveNewsSmallImageHeadline-title"}),T.default.attachTo(".AdaptiveNewsSmallImageHeadline",(0,r.default)(e,e.scribeComponent.newsGallerySmall)),g.default.attachTo(".AdaptiveNewsTextHeadline",(0,r.default)(e,e.scribeComponent.newsGalleryText),{descriptionSelector:".AdaptiveNewsTextHeadline-description",titleSelector:".AdaptiveNewsTextHeadline-title"}),T.default.attachTo(".AdaptiveNewsTextHeadline",(0,r.default)(e,e.scribeComponent.newsGalleryText)),g.default.attachTo(".AdaptiveNewsRelatedHeadlines",(0,r.default)(e,e.scribeComponent.relatedHeadlines),{descriptionSelector:".AdaptiveNewsRelatedHeadlines-description",titleSelector:".AdaptiveNewsRelatedHeadlines-title"}),T.default.attachTo(".AdaptiveNewsRelatedHeadlines",(0,r.default)(e,e.scribeComponent.relatedHeadlines)),T.default.attachTo(".AdaptiveStreamUserGallery",(0,r.default)(e,e.scribeComponent.userGallery)),u.default.attachTo(document),S.default.attachTo(".AdaptiveRelatedSearches",(0,r.default)(e,e.scribeComponent.relatedSearches)),p.default.attachTo(document),y.default.attachTo(".AdaptiveSpellingSuggestion",(0,r.default)(e,e.scribeComponent.spellingSuggestion))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a=i(1494),r=s(a),o=i(1495),l=s(o),c=i(1519),d=s(c),h=i(1510),u=s(h),f=i(1511),p=s(f),m=i(1520),g=s(m),v=i(1512),S=s(v),w=i(1513),y=s(w),b=i(964),T=s(b)},1519:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.scribeHeadlineImpression=function(e,t){this.scribe("impression",t)},this.scribeOpenLink=function(e,t){this.scribe("open_link",t)},this.after("initialize",function(){this.on("uiAdaptiveNewsHeadlineLoaded",this.scribeHeadlineImpression),this.on("uiAdaptiveNewsHeadlineLinkOpened",this.scribeOpenLink)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o);t.default=(0,r.default)(n,l.default);
},1520:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({descriptionSelector:null,imageSelector:null,titleSelector:null,userSelector:".AdaptiveNewsHeadlineDetails-user"}),this.onClickLink=function(e){this.trigger("uiAdaptiveNewsHeadlineLinkOpened",{scribeContext:{element:e}})},this.after("initialize",function(_,e){c.attachTo(this.select("userSelector"),e,{itemType:"user",showWithIdSelector:this.attr.userSelector}),this.on("click",{descriptionSelector:this.onClickLink.bind(this,"description"),imageSelector:this.onClickLink.bind(this,"image"),titleSelector:this.onClickLink.bind(this,"title")}),this.trigger("uiAdaptiveNewsHeadlineLoaded")})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(889),l=s(o);t.default=(0,r.default)(n);var c=(0,r.default)(l.default)},1521:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e){(0,l.default)(e),d.default.attachTo(document),u.default.attachTo(".AdaptiveGeoPlace--yelp",(0,r.default)(e,e.scribeComponent.placeYelp),{buttonSelector:".AdaptiveGeoPlace-linkButton"}),p.default.attachTo(".AdaptiveGeoPlace--yelp",(0,r.default)(e,e.scribeComponent.placeYelp)),u.default.attachTo(".AdaptiveGeoPlace--foursquare",(0,r.default)(e,e.scribeComponent.placeFoursquare),{buttonSelector:".AdaptiveGeoPlace-linkButton"}),p.default.attachTo(".AdaptiveGeoPlace--foursquare",(0,r.default)(e,e.scribeComponent.placeFoursquare))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a=i(1494),r=s(a),o=i(1495),l=s(o),c=i(1522),d=s(c),h=i(1523),u=s(h),f=i(964),p=s(f)},1522:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.scribeHeadlineImpression=function(e,t){this.scribe("impression",t)},this.scribeOpenLink=function(e,t){this.scribe("open_link",t)},this.after("initialize",function(){this.on("uiAdaptivePlaceLoaded",this.scribeHeadlineImpression),this.on("uiAdaptivePlaceLinkOpened",this.scribeOpenLink)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o);t.default=(0,r.default)(n,l.default)},1523:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({buttonSelector:".AdaptiveGeoPlace-linkButton"}),this.onClickLink=function(e){this.trigger("uiAdaptivePlaceLinkOpened",{scribeContext:{element:e}})},this.after("initialize",function(_,e){this.on("click",{buttonSelector:this.onClickLink.bind(this,"button")}),this.trigger("uiAdaptivePlaceLoaded")})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a);t.default=(0,r.default)(n)},1524:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e){var t=".AdaptiveStickersPage-title";(0,o.default)(e),u.attachTo(t,a({},e,{itemType:"user"}))}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e};t.default=n;var r=i(1495),o=s(r),l=i(111),c=s(l),d=i(889),h=s(d),u=(0,c.default)(h.default)},1796:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){this.defaultAttrs({loggedIn:!1,language:e("html").attr("lang")||"en",searchButtonSelector:".submit",searchFormSelector:".twitter-form",geoPickerSelector:".geo-picker",geoPickerParentSelector:".geo .txt",datePickerSelector:".input-daterange",sinceInputSelector:".input-since",untilInputSelector:".input-until"}),this.serializeAdvancedForm=function(){var e=this.select("searchFormSelector"),t=e.serializeArray(),i=[];return t.forEach(function(t){var s=t.value,n=e.find("select[name=within]").val()+e.find("input:radio[name=units]:checked").val();if(s){var a=void 0,r=void 0,o=void 0,l=void 0;switch(t.name){case"ands":i.push(s);break;case"ors":r=s.split(" "),o=this.sanitize(r),i.push(o.join(" OR "));break;case"phrase":i.push('"'+s+'"');break;case"nots":r=("-"+s).split(" "),o=this.sanitize(r),i.push(o.join(" -"));break;case"tag":r=("#"+s.replace(/#+/g,"")).split(" "),o=this.sanitize(r),i.push(o.join(" OR #"));break;case"from":r=("from:"+s.replace(/@+/g,"")).split(" "),o=this.sanitize(r),i.push(o.join(" OR from:"));break;case"to":r=("to:"+s.replace(/@+/g,"")).split(" "),o=this.sanitize(r),i.push(o.join(" OR to:"));break;case"ref":r=("@"+s.replace(/@+/g,"")).split(" "),o=this.sanitize(r),i.push(o.join(" OR @"));break;case"near":i.push('near:"'+s+'" within:'+n);break;case"place_id":a=e.find(".geo-picker .geo-status").text(),i.push('near:"'+a+'" within:'+n);break;case"since":l=this.getUTCyyyymmdd(this.select("sinceInputSelector").datepicker("getUTCDate")),i.push("since:"+l);break;case"until":l=this.getUTCyyyymmdd(this.select("untilInputSelector").datepicker("getUTCDate")),i.push("until:"+l)}}},this),i.join(" ").trim()},this.searchLanguage=function(){var e=this.select("searchFormSelector").find("#lang").val();return"all"===e?"":e},this.sanitize=function(e){return e.filter(function(e){return""!==e})},this.searchFormSubmit=function(e){e.preventDefault();var t=this.serializeAdvancedForm();if(t){this.trigger("uiSearchQuery",{query:t,source:"search"});var i={q:t,src:"typd"};i.l=this.searchLanguage();var s="/search?"+d.default.encode(i);this.trigger("uiNavigate",{href:s})}},this.initializeGeoPicker=function(){var e=this.select("geoPickerParentSelector");l.default.attachTo(this.select("geoPickerSelector"),{eventData:{scribeContext:{element:"geo_picker"}},parentSelector:this.attr.geoPickerParentSelector}),this.trigger(e,"uiPrepareGeoPicker")},this.initializeDatePicker=function(){this.select("datePickerSelector").datepicker({format:"yyyy-mm-dd",startDate:"2006-03-21",endDate:new Date,autoclose:!0,todayHighlight:!0,language:this.attr.language})},this.setUntilMinDate=function(e){this.select("untilInputSelector").datepicker("setStartDate",e.date)},this.setSinceMaxDate=function(e){this.select("sinceInputSelector").datepicker("setEndDate",e.date)},this.getUTCyyyymmdd=function(e){var t=e.getUTCFullYear().toString(),i=(e.getUTCMonth()+1).toString(),s=i[1]?i:"0"+i[0];e=e.getUTCDate().toString();var n=e[1]?e:"0"+e[0];return t+"-"+s+"-"+n},this.after("initialize",function(){this.attr.loggedIn&&this.initializeGeoPicker(),this.initializeDatePicker(),this.on("click",{searchButtonSelector:this.searchFormSubmit}),this.on(this.select("searchFormSelector"),"submit",this.searchFormSubmit),this.on(this.select("sinceInputSelector").datepicker(),"changeDate",this.setUntilMinDate),this.on(this.select("untilInputSelector").datepicker(),"changeDate",this.setSinceMaxDate)})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(1083),l=s(o),c=i(215),d=s(c),h=i(1797),u=s(h);t.default=(0,r.default)(n,u.default)}).call(t,i(10))},1797:function(e,t,i){(function(e){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){var t=e("html").attr("lang"),i="rtl"===e("body").attr("dir");e.fn.datepicker.dates[t]={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",rtl:i}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(123);s(a);i(1798),t.default=n}).call(t,i(10))},1798:function(e,t,i){!function(t){var s=i(10);t(s),e.exports=s}(function(e){function t(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var e=new Date;return t(e.getFullYear(),e.getMonth(),e.getDate())}function s(e){return function(){return this[e].apply(this,arguments)}}function n(t,i){function s(_,e){return e.toLowerCase()}var n,a=e(t).data(),r={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in a)i.test(l)&&(n=l.replace(o,s),r[n]=a[l]);return r}function a(t){var i={};if(f[t]||(t=t.split("-")[0],f[t])){var s=f[t];return e.each(u,function(e,t){t in s&&(i[t]=s[t])}),i}}var r=e(window),o=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,s=this.length;i<s;i++)if(this[i].valueOf()===t)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.splice(0)},copy:function(){var e=new o;return e.replace(this),e}};return function(){var i=[];return i.push.apply(i,arguments),e.extend(i,t),i}}(),l=function(t,s){this.dates=new o,this.viewDate=i(),this.focusDate=null,this._process_options(s),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(p.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};l.prototype={constructor:l,_process_options:function(t){this._o=e.extend({},this._o,t);var i=this.o=e.extend({},this._o),s=i.language;switch(f[s]||(s=s.split("-")[0],f[s]||(s=h.language)),i.language=s,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),i.multidate!==!0&&(i.multidate=Number(i.multidate)||!1,i.multidate!==!1?i.multidate=Math.max(0,i.multidate):i.multidate=1),i.multidateSeparator=String(i.multidateSeparator),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var n=p.parseFormat(i.format);i.startDate!==-(1/0)&&(i.startDate?i.startDate instanceof Date?i.startDate=this._local_to_utc(this._zero_time(i.startDate)):i.startDate=p.parseDate(i.startDate,n,i.language):i.startDate=-(1/0)),i.endDate!==1/0&&(i.endDate?i.endDate instanceof Date?i.endDate=this._local_to_utc(this._zero_time(i.endDate)):i.endDate=p.parseDate(i.endDate,n,i.language):i.endDate=1/0),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],e.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=e.map(i.daysOfWeekDisabled,function(e){return parseInt(e,10)});var a=String(i.orientation).toLowerCase().split(/\s+/g),r=i.orientation.toLowerCase();if(a=e.grep(a,function(e){return/^auto|left|right|top|bottom$/.test(e)}),i.orientation={x:"auto",y:"auto"},r&&"auto"!==r)if(1===a.length)switch(a[0]){case"top":case"bottom":i.orientation.y=a[0];break;case"left":case"right":i.orientation.x=a[0]}else r=e.grep(a,function(e){return/^left|right$/.test(e)}),i.orientation.x=r[0]||"auto",r=e.grep(a,function(e){return/^top|bottom$/.test(e)}),i.orientation.y=r[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,i,s,n=0;n<e.length;n++)t=e[n][0],2===e[n].length?(i=void 0,s=e[n][1]):3===e[n].length&&(i=e[n][1],s=e[n][2]),t.on(s,i)},_unapplyEvents:function(e){for(var t,i,s,n=0;n<e.length;n++)t=e[n][0],2===e[n].length?(s=void 0,i=e[n][1]):3===e[n].length&&(s=e[n][1],i=e[n][2]),t.off(i,s)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var s=i||this.dates.get(-1),n=this._utc_to_local(s);this.element.trigger({type:t,date:n,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return p.formatDate(i,t,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:s("setDates"),setUTCDate:s("setUTCDates"),setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change()},getFormattedDate:function(t){void 0===t&&(t=this.o.format);var i=this.o.language;return e.map(this.dates,function(e){return p.formatDate(e,t,i)}).join(this.o.multidateSeparator)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=this.picker.outerWidth(),i=this.picker.outerHeight(),s=10,n=r.width(),a=r.height(),o=r.scrollTop(),l=parseInt(this.element.parents().filter(function(){return"auto"!==e(this).css("z-index")}).first().css("z-index"))+10,c=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),u=c.left,f=c.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(u-=t-h)):(this.picker.addClass("datepicker-orient-left"),c.left<0?u-=c.left-s:c.left+t>n&&(u=n-t-s));var p,m,g=this.o.orientation.y;"auto"===g&&(p=-o+c.top-i,m=o+a-(c.top+d+i),g=Math.max(p,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+g),"top"===g?f+=d:f-=i+parseInt(this.picker.css("padding-top")),this.picker.css({top:f,left:u,zIndex:l})}},_allow_update:!0,update:function(){if(this._allow_update){var t=this.dates.copy(),i=[],s=!1;arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)},this)),s=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=e.map(i,e.proxy(function(e){return p.parseDate(e,this.o.format,this.o.language)},this)),i=e.grep(i,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),s?this.setValue():i.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';t+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+f[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;t<12;)e+='<span class="month">'+f[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var i=[],s=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),a=new Date;return t.getUTCFullYear()<s||t.getUTCFullYear()===s&&t.getUTCMonth()<n?i.push("old"):(t.getUTCFullYear()>s||t.getUTCFullYear()===s&&t.getUTCMonth()>n)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===a.getFullYear()&&t.getUTCMonth()===a.getMonth()&&t.getUTCDate()===a.getDate()&&i.push("today"),this.dates.contains(t)!==-1&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&i.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),e.inArray(t.valueOf(),this.range)!==-1&&i.push("selected")),i},fill:function(){var i,s=new Date(this.viewDate),n=s.getUTCFullYear(),a=s.getUTCMonth(),r=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),o=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),l=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=f[this.o.language].today||f.en.today||"",h=f[this.o.language].clear||f.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(f[this.o.language].months[a]+" "+n),this.picker.find("tfoot th.today").text(d).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(h).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var u=t(n,a-1,28),m=p.getDaysInMonth(u.getUTCFullYear(),u.getUTCMonth());u.setUTCDate(m),u.setUTCDate(m-(u.getUTCDay()-this.o.weekStart+7)%7);var g=new Date(u);g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();for(var v,S=[];u.valueOf()<g;){if(u.getUTCDay()===this.o.weekStart&&(S.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+u+(this.o.weekStart-u.getUTCDay()-7)%7*864e5),y=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),b=new Date(Number(b=t(y.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),T=(y-b)/864e5/7+1;S.push('<td class="cw">'+T+"</td>")}if(v=this.getClassNames(u),v.push("day"),this.o.beforeShowDay!==e.noop){var C=this.o.beforeShowDay(this._utc_to_local(u));void 0===C?C={}:"boolean"==typeof C?C={enabled:C}:"string"==typeof C&&(C={classes:C}),C.enabled===!1&&v.push("disabled"),C.classes&&(v=v.concat(C.classes.split(/\s+/))),C.tooltip&&(i=C.tooltip)}v=e.unique(v),S.push('<td class="'+v.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+u.getUTCDate()+"</td>"),u.getUTCDay()===this.o.weekEnd&&S.push("</tr>"),u.setUTCDate(u.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(S.join(""));var D=this.picker.find(".datepicker-months").find("th:eq(1)").text(n).end().find("span").removeClass("active");e.each(this.dates,function(e,t){t.getUTCFullYear()===n&&D.eq(t.getUTCMonth()).addClass("active")}),(n<r||n>l)&&D.addClass("disabled"),n===r&&D.slice(0,o).addClass("disabled"),n===l&&D.slice(c+1).addClass("disabled"),S="",n=10*parseInt(n/10,10);var k=this.picker.find(".datepicker-years").find("th:eq(1)").text(n+"-"+(n+9)).end().find("td");n-=1;for(var I,M=e.map(this.dates,function(e){return e.getUTCFullYear()}),R=-1;R<11;R++)I=["year"],R===-1?I.push("old"):10===R&&I.push("new"),e.inArray(n,M)!==-1&&I.push("active"),(n<r||n>l)&&I.push("disabled"),S+='<span class="'+I.join(" ")+'">'+n+"</span>",n+=1;k.html(S)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(i){i.preventDefault();var s,n,a,r=e(i.target).closest("span, td, th");if(1===r.length)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=p.modes[this.viewMode].navStep*("prev"===r[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=t(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":var d;this.isInput?d=this.element:this.component&&(d=this.element.find("input")),d&&d.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":r.is(".disabled")||(this.viewDate.setUTCDate(1),r.is(".month")?(a=1,n=r.parent().find("span").index(r),s=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(n),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(t(s,n,a))):(a=1,n=0,s=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(s),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(t(s,n,a))),this.showMode(-1),this.fill());break;case"td":r.is(".day")&&!r.is(".disabled")&&(a=parseInt(r.text(),10)||1,s=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),r.is(".old")?0===n?(n=11,s-=1):n-=1:r.is(".new")&&(11===n?(n=0,s+=1):n+=1),this._setDate(t(s,n,a)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e?t!==-1?this.dates.remove(t):this.dates.push(e):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,t){if(e){if(!t)return e;var i,s,n=new Date(e.valueOf()),a=n.getUTCDate(),r=n.getUTCMonth(),o=Math.abs(t);if(t=t>0?1:-1,1===o)s=t===-1?function(){return n.getUTCMonth()===r}:function(){return n.getUTCMonth()!==i},i=r+t,n.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var l=0;l<o;l++)n=this.moveMonth(n,t);i=n.getUTCMonth(),n.setUTCDate(a),s=function(){return i!==n.getUTCMonth()}}for(;s();)n.setUTCDate(--a),n.setUTCMonth(i);return n}},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return void(27===e.keyCode&&this.show());var t,s,n,a=!1,r=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(s=this.moveYear(this.dates.get(-1)||i(),t),n=this.moveYear(r,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(s=this.moveMonth(this.dates.get(-1)||i(),t),n=this.moveMonth(r,t),this._trigger("changeMonth",this.viewDate)):(s=new Date(this.dates.get(-1)||i()),s.setUTCDate(s.getUTCDate()+t),n=new Date(r),n.setUTCDate(r.getUTCDate()+t)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(s=this.moveYear(this.dates.get(-1)||i(),t),n=this.moveYear(r,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(s=this.moveMonth(this.dates.get(-1)||i(),t),n=this.moveMonth(r,t),this._trigger("changeMonth",this.viewDate)):(s=new Date(this.dates.get(-1)||i()),s.setUTCDate(s.getUTCDate()+7*t),n=new Date(r),n.setUTCDate(r.getUTCDate()+7*t)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:r=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(r),a=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(a){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+p.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(t,i){this.element=e(t),this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e}),delete i.inputs,e(this.inputs).datepicker(i).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=e(t.target).data("datepicker"),s=i.getUTCDate(),n=e.inArray(t.target,this.inputs),a=this.inputs.length;if(n!==-1){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(s)}),s<this.dates[n])for(;n>=0&&s<this.dates[n];)this.pickers[n--].setUTCDate(s);else if(s>this.dates[n])for(;n<a&&s>this.dates[n];)this.pickers[n++].setUTCDate(s);this.updateDates(),delete this.updating}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var d=e.fn.datepicker;e.fn.datepicker=function(t){var i=Array.apply(null,arguments);i.shift();var s;return this.each(function(){var r=e(this),o=r.data("datepicker"),d="object"==typeof t&&t;if(!o){var u=n(this,"date"),f=e.extend({},h,u,d),p=a(f.language),m=e.extend({},h,p,u,d);if(r.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||r.find("input").toArray()};r.data("datepicker",o=new c(this,e.extend(m,g)))}else r.data("datepicker",o=new l(this,m))}if("string"==typeof t&&"function"==typeof o[t]&&(s=o[t].apply(o,i),void 0!==s))return!1}),void 0!==s?s:this};var h=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},u=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=l;var f=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},p={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,p.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(i,s,n){function a(){var e=this.slice(0,h[c].length),t=h[c].slice(0,e.length);return e===t}if(i){if(i instanceof Date)return i;"string"==typeof s&&(s=p.parseFormat(s));var r,o,c,d=/([\-+]\d+)([dmwy])/,h=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,c=0;c<h.length;c++)switch(r=d.exec(h[c]),o=parseInt(r[1]),r[2]){case"d":i.setUTCDate(i.getUTCDate()+o);break;case"m":i=l.prototype.moveMonth.call(l.prototype,i,o);break;case"w":i.setUTCDate(i.getUTCDate()+7*o);break;case"y":i=l.prototype.moveYear.call(l.prototype,i,o)}return t(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}h=i&&i.match(this.nonpunctuation)||[],i=new Date;var u,m,g={},v=["yyyy","yy","M","MM","m","mm","d","dd"],S={
yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};S.M=S.MM=S.mm=S.m,S.dd=S.d,i=t(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var w=s.parts.slice();if(h.length!==w.length&&(w=e(w).filter(function(t,i){return e.inArray(i,v)!==-1}).toArray()),h.length===w.length){var y;for(c=0,y=w.length;c<y;c++){if(u=parseInt(h[c],10),r=w[c],isNaN(u))switch(r){case"MM":m=e(f[n].months).filter(a),u=e.inArray(m[0],f[n].months)+1;break;case"M":m=e(f[n].monthsShort).filter(a),u=e.inArray(m[0],f[n].monthsShort)+1}g[r]=u}var b,T;for(c=0;c<v.length;c++)T=v[c],T in g&&!isNaN(g[T])&&(b=new Date(i),S[T](b,g[T]),isNaN(b)||(i=b))}return i}},formatDate:function(t,i,s){if(!t)return"";"string"==typeof i&&(i=p.parseFormat(i));var n={d:t.getUTCDate(),D:f[s].daysShort[t.getUTCDay()],DD:f[s].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:f[s].monthsShort[t.getUTCMonth()],MM:f[s].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,t=[];for(var a=e.extend([],i.separators),r=0,o=i.parts.length;r<=o;r++)a.length&&t.push(a.shift()),t.push(n[i.parts[r]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};p.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+p.headTemplate+"<tbody></tbody>"+p.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+p.headTemplate+p.contTemplate+p.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+p.headTemplate+p.contTemplate+p.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=p,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=d,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),i.datepicker("show"))}),e(function(){e('[data-provide="datepicker-inline"]').datepicker()})})}});
//# sourceMappingURL=15.pages_search.en.9c75791d9b95db59bbb4.js.map