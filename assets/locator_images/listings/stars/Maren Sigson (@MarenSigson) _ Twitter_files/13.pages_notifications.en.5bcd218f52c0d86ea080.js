webpackJsonp([13],{1013:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({launchServiceSelector:".js-launch-service",matchesHref:"/who_to_follow/matches",redirectOnSuccess:!0}),this.importSuccess=function(){this.trigger("uiOpenImportLoadingDialog"),this.startPolling()},this.dialogCancelled=function(){this.stopPolling()},this.startPolling=function(){this.pollingCount=0,this.interval=window.setInterval(this.checkForContacts.bind(this),3e3)},this.stopPolling=function(){this.interval&&(window.clearInterval(this.interval),this.interval=null),this.trigger("uiCloseImportLoadingDialog")},this.checkForContacts=function(){this.pollingCount++>15?(this.trigger("uiShowError",{message:"Loading seems to be taking a while. Please wait a moment and try again."}),this.stopPolling()):this.trigger("uiWantsContactImportStatus")},this.hasStatus=function(t,e){e.done&&(this.stopPolling(),e.error?this.trigger("uiShowError",{message:e.message}):this.attr.redirectOnSuccess?this.trigger("uiNavigate",{href:this.attr.matchesHref}):this.trigger("uiWantsContactImportMatches"))},this.after("initialize",function(){this.on(document,"uiOauthImportSuccess",this.importSuccess),this.on(document,"uiOauthWindows10ImportSuccess",this.importSuccess),this.on(document,"uiImportLoadingDialogCancelled",this.dialogCancelled),this.on(document,"dataContactImportStatusSuccess",this.hasStatus)}),this.after("teardown",function(){this.stopPolling()})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(123),c=(s(a),i(1014)),l=s(c);e.default=(0,r.default)(o,l.default)},1014:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.launchService=function(e){var i=t(e.target).closest(this.attr.launchServiceSelector);this.oauthPopup({url:i.data("url"),triggerEvent:!0,width:i.data("width"),height:i.data("height")});var s={service:i.data("service")};this.attr.otherServicesSelector&&(s.section=0===i.parents(this.attr.otherServicesSelector).length?"cta":"other_services"),this.trigger("uiImportServiceLaunched",s)},this.importDeniedFailure=function(){this.trigger("uiShowError",{message:"You denied Twitter's access to your contact information."})},this.importMissingFailure=function(){this.trigger("uiShowError",{message:"An error occurred validating your credentials."})},this.after("initialize",function(){this.oauthPopup=a.default,this.on(document,"uiOauthImportDenied",this.importDeniedFailure),this.on(document,"uiOauthImportMissing",this.importMissingFailure),this.on("click",{launchServiceSelector:this.launchService})})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(123),r=(s(n),i(1015)),a=s(r);e.default=o}).call(e,i(10))},1015:function(t,e,i){(function(t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var i=e.url,s=i.indexOf("?")===-1?"?":"&";e.callbackUrl?i+=s+"callback_hash="+encodeURIComponent(e.callbackUrl):e.triggerEvent&&(i+=s+"trigger_event=true");var o=t(window),n=window.screenY||window.screenTop||0,r=window.screenX||window.screenLeft||0,a=(o.height()-500)/2+n,c=(o.width()-500)/2+r;e={width:e.width?e.width:500,height:e.height?e.height:500,top:a,left:c,toolbar:"no",location:"yes"};var l=t.param(e).replace(/&/g,",");window.open(i,"twitter_oauth",l).focus()}}).call(e,i(10))},1170:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({itemType:"tweet"})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(1171),r=s(n),a=i(1188),c=s(a),l=i(1189),d=s(l),u=i(1190),h=s(u),f=i(1193),m=s(f),p=i(1194),g=s(p);e.default=r.default.mixin(o,c.default,h.default,m.default,g.default,d.default)},1171:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1172),n=s(o),r=i(1179),a=s(r),c=i(1180),l=s(c),d=i(1184),u=s(d),h=i(890),f=s(h),m=i(925),p=s(m),g=i(889),v=s(g),w=i(1182),S=s(w),b=i(1185),C=s(b),T=i(1186),y=s(T),I=i(1187),R=s(I),k=n.default.mixin(a.default,l.default,u.default,f.default,p.default,v.default,S.default,C.default,y.default,R.default);e.default=k},1180:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.injectNewItems=function(t,e){if(!(this.latentItems.length<1)){e&&e.wasPeriodPress&&this.trigger("uiUserPressedPeriodAndSawNewTweets"),e&&e.wasPushStateInjection&&this.trigger("uiUserPushStateInjectedTweets"),e&&e.wasTopBarBirdClick&&this.trigger("uiUserClickedTopBarBirdAndSawNewTweets"),e&&e.wasComposedTweet&&this.trigger("uiUserComposedTweet"),this.trigger("uiHideNewItemsBar");var i=this.injectItems("prepend",this.latentItems.join(""),"uiHasInjectedNewTimeline",e);return this.resetLatentItems(),i}},a.default.mixin(this,[l.default,u.default]),this.defaultAttrs({streamItemSelector:".js-stream-item:not(.js-stream-item .js-stream-item)",refreshOnReturn:!0}),this.getNewItems=function(t,e){var i=Object.keys(this.composedThenInjectedTweetIds);this.trigger("uiWantsMoreTimelineItems",n({include_new_items_bar:!(e&&e.injectImmediately),latent_count:this.latentCount,composed_count:i.length,composed_ids:i},this.getNewItemsData(),this.getNewItemsCountData&&this.getNewItemsCountData(),e))},this.notifyNewItems=function(t){if(t.items_html&&t.items_html.trim()){var e=t.sourceEventData||{};if(this.resetStateVariables(t),t.items_html){if(this.latentItems=this.htmlToItemArray(t.items_html).concat(this.latentItems),this.latentCount=t.new_latent_count,t.new_tweets_bar_html){var i=t.new_tweets_bar_html;this.autoplay?this.autoplayNewItems(t.new_tweets_bar_html):e.injectImmediately||(this.trigger("uiUpdateNewItemsBar",{html:i}),this.trigger("uiAddPageCount",{count:this.latentCount}))}(e.injectImmediately||e.timeline_empty)&&this.trigger("uiInjectNewItems"),e.scrollToTop&&this.scrollToTop(),e.selectTopTweet&&this.trigger("uiSelectTopTweet")}}},this.htmlToItemArray=function(e){var i=t("<div>").html(e).find(this.attr.streamItemSelector).toArray();return i.map(function(e){return t("<div>").append(e).html()})},this.saveLatentItems=function(t,e){var i=this.select("containerSelector");i.attr("data-latent-items",this.latentItems.join("")),i.attr("data-latent-count",this.latentCount)},this.resetLatentItems=function(){var t=this.select("containerSelector"),e=t.attr("data-latent-items");t.removeAttr("data-latent-items"),this.latentItems=this.htmlToItemArray(e),this.latentCount=parseInt(t.attr("data-latent-count"),10)||0,t.removeAttr("data-latent-count")},this.refreshOnNavigate=function(t,e){e.fromCache&&this.attr.refreshOnReturn&&this.trigger("uiTimelineShouldRefresh",{navigated:!0})},this.refreshAndSelectTopTweet=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0,selectTopTweet:!0})},this.injectComposedTweet=function(e,i){if(!i.in_reply_to_status_id&&i.tweet_html){this.injectNewItems();var s=t(i.tweet_html).filter(this.attr.streamItemSelector).first().attr("data-item-id");this.$node.find(".original-tweet[data-tweet-id='"+s+"']:first").length||(this.latentItems=this.htmlToItemArray(i.tweet_html),this.injectNewItems(null,{wasComposedTweet:"dataTweetSuccess"===e.type}),this.composedThenInjectedTweetIds[i.tweet_id]=window.location.href)}},this.refreshAndInjectImmediately=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0,selectTopTweet:1===this.$selected.length})},this.resetCacheOfComposedInjectedTweets=function(t,e){this.composedThenInjectedTweetIds=h={}},this.addPageCount=function(t,e){this.latentCount&&this.trigger("uiAddPageCount",{count:this.latentCount})},this.after("initialize",function(){this.latentItems=[],this.latentCount=0,this.composedThenInjectedTweetIds=h,this.resetLatentItems(),this.injectNewItems(null,{wasPushStateInjection:!0}),this.on("uiInjectNewItems",this.injectNewItems),this.on(document,"uiTimelineShouldRefresh",this.getNewItems),this.on(document,"uiBeforePageChanged",this.saveLatentItems),this.on(document,"uiPageChanged",this.refreshOnNavigate),this.on(document,"uiGotoTopOfScreen",this.refreshAndInjectImmediately),this.on(document,"uiShortcutGotoTopOfScreen",this.refreshAndSelectTopTweet),this.on(document,"dataPageMutated",this.resetCacheOfComposedInjectedTweets),this.on(document,"uiPageNeedsCount",this.addPageCount),this.attr.injectComposedTweets&&this.on(document,"dataTweetSuccess",this.injectComposedTweet)})}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(121),a=s(r),c=i(1181),l=s(c),d=i(1183),u=s(d),h={};e.default=o}).call(e,i(10))},1181:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){r.default.mixin(this,[c.default]);var e=700;this.defaultAttrs({streamItemsSelector:".stream-items",socialProofSelector:".tweet-stats-container"}),this.autoplayNewItems=function(t){if(t){var e=this.$window.scrollTop(),i=e+this.$window.height(),s=this.$promotedItem.length&&this.$promotedItem.offset().top>i,o=this.injectNewItems({},{autoplay:!0}),n=this.select("streamItemsSelector");this.travelingPTw&&s&&this.repositionPromotedItem(function(t){o.first().before(t),o=o.add(t),this.trigger(t,"uiShouldFixMargins")});var r=o.first().offset().top,a=r>e&&r<i,c=n.offset().top,l=o.last().next().offset().top-c+1;a?(n.css("marginTop",-l),this.animateBlockOfItems()):this.setScrollerScrollTop(e+l)}},this.animateBlockOfItems=function(){var t=this,i=this.select("streamItemsSelector"),s=this.$window.scrollTop(),o=parseFloat(i.css("marginTop"));i.parent().css("overflow","hidden"),i.animate({marginTop:0},{duration:e+Math.abs(o),step:function(e){t.lockedTimelineScroll&&t.setScrollerScrollTop(s+Math.abs(o-Math.ceil(e)))},complete:function(){i.parent().css("overflow","inherit"),t.afterAnimationQueue.forEach(function(t){t.call(this)},t),t.afterAnimationQueue=[]}})},this.setScrollerScrollTop=function(e){var i=this.attr.overflowScroll?this.$node:t(window);i.scrollTop(e)},this.enableAutoplay=function(){this.autoplay=!0,this.travelingPTw=this.attr.travelingPTw,this.lockedTimelineScroll=!1,this.afterAnimationQueue=[],this.newItemsXLine=0,this.$window=this.attr.overflowScroll?this.$node:t(window),this.on("mouseover",function(){this.lockedTimelineScroll=!0}),this.on("mouseleave",function(){this.lockedTimelineScroll=!1})},this.after("initialize",function(){this.attr.autoplay&&this.enableAutoplay()})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(121),r=s(n),a=i(1182),c=s(a);e.default=o}).call(e,i(10))},1182:function(t,e){"use strict";function i(){this.repositionPromotedItem=function(t){t.call(this,this.$promotedItem.detach())},this.after("initialize",function(){this.$promotedItem=this.$node.find(".promoted-tweet").first().closest(".stream-item")})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1183:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({pollingWatchNode:t(window),pollingEnabled:!0}),this.pausePolling=function(){this.pollingTimer.pause(),this.pollingPaused=!0},this.resetPolling=function(){this.backoffEmptyResponseCount=0,this.pollingPaused=!1},this.pollForNewItems=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!1,interval:this.pollingTimer.interval,fromPolling:!0})},this.onGotMoreTimelineItems=function(t,e){if(this.attr.pollingOptions&&this.attr.pollingOptions.pauseAfterBackoff&&e&&e.sourceEventData){if(e.focused_refresh_interval){var i=this.attr.pollingOptions.blurredInterval/this.attr.pollingOptions.focusedInterval;this.pollingTimer.clear(),this.attr.pollingOptions.focusedInterval=e.focused_refresh_interval,this.attr.pollingOptions.blurredInterval=e.focused_refresh_interval*i,this.pollingTimer=(0,r.default)("uiTimelinePollForNewItems",this.attr.pollingWatchNode,this.attr.pollingOptions)}var s=e.sourceEventData;s.fromPolling&&(this.isNewItem(e)||s.interval<this.attr.pollingOptions.blurredInterval?this.resetPolling():++this.backoffEmptyResponseCount>=this.attr.pollingOptions.backoffEmptyResponseLimit&&this.pausePolling())}},this.getNewItemsCountData=function(t){if(this.pollingPaused&&this.attr.pollingOptions)return this.resetPolling(),{count:this.attr.pollingOptions.resumeItemCount}},this.possiblyRefreshBeforeInject=function(t,e,i){return this.pollingPaused&&i&&i.fromClick&&this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0}),t(e,i)},this.around("injectNewItems",this.possiblyRefreshBeforeInject),this.before("teardown",function(){this.pollingTimer&&this.pollingTimer.clear()}),this.after("initialize",function(){this.attr.pollingEnabled&&(this.on(document,"uiTimelinePollForNewItems",this.pollForNewItems),this.on(document,"dataGotMoreTimelineItems",this.onGotMoreTimelineItems),this.pollingTimer=(0,r.default)("uiTimelinePollForNewItems",this.attr.pollingWatchNode,this.attr.pollingOptions),this.resetPolling())})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(966),r=s(n);e.default=o}).call(e,i(10))},1184:function(t,e,i){(function(t){"use strict";function i(){this.defaultAttrs({viewAllSelector:"button.view-all-supplements",interactionsPageViewAllToggleSelector:".stream-item-activity-notification button.view-all-supplements",additionalStreamItemsSelector:".sub-stream-item-showing, .sub-stream-item-hidden"}),this.toggleInteractionsSupplements=function(e,i){var s=t(i.el),o=s.hasClass("show");this.toggleSupplementTrigger(s,o),this.toggleSubStreamItemsVisibility(s.parent(),o)},this.toggleSupplementTrigger=function(t,e){t.toggleClass("hide",e).toggleClass("show",!e)},this.toggleSubStreamItemsVisibility=function(t,e){t.find(this.attr.additionalStreamItemsSelector).toggleClass("sub-stream-item-hidden",!e).toggleClass("sub-stream-item-showing",e)},this.after("initialize",function(){this.on("click",{interactionsPageViewAllToggleSelector:this.toggleInteractionsSupplements})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(e,i(10))},1185:function(t,e){"use strict";function i(){this.defaultAttrs({pinnedStreamItemSelector:"li.js-pinned"}),this.keepPinnedStreamItemsOnTop=function(){this.$pinnedStreamItems.length&&(this.$pinnedStreamItems.first().css("margin-top","0"),this.$items.prepend(this.$pinnedStreamItems.detach()))},this.after("initialize",function(){this.$items=this.select("itemsSelector"),this.$pinnedStreamItems=this.select("pinnedStreamItemSelector"),this.on("uiHasInjectedNewTimeline",this.keepPinnedStreamItemsOnTop)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1189:function(t,e,i){(function(t){"use strict";function i(){this.removeSeparatedModule=function(e){var i=t(e.target);this.trigger(i,"uiRemoveClassBeforePromptbird"),i.remove()},this.after("initialize",function(){this.on(document,"uiRemoveSeparatedModule",this.removeSeparatedModule)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(e,i(10))},1190:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){r.default.mixin(this,[c.default]),this.defaultAttrs({conversationModuleSelector:".conversation-module",hasConversationModuleSelector:".tweet.has-conversation-module",conversationHeaderSelector:".conversation-header",uncollapseSelector:"a.uncollapse",conversationRootSelector:"li.conversation-root",repliesCountSelector:".replies-count",otherRepliesSelector:".other-replies",topLevelStreamItemSelector:".stream-item:not(.conversation-tweet-item)",repliesCountClass:"replies-count",visuallyHiddenClass:"visuallyhidden",conversationRootClass:"conversation-root",conversationTweetsSelector:".conversation-tweet-item,.original-tweet-item",conversationFirstVisibleTweetClass:"conversation-first-visible-tweet",originalTweetClass:"original-tweet",conversationItemsSelector:".conversation-header, .conversation-tweet-item, .original-tweet-item, .missing-tweets-bar",toBeRemovedClass:"to-be-removed",unselectableStreamItemClass:"js-unselectable-stream-item",firstNavigableStreamItemClass:"first-navigable-stream-item",lastNavigableStreamItemClass:"last-navigable-stream-item",collapsedRootClass:"collapsed-root",collapsedAncestorsClass:"collapsed-ancestors",restoreConversationDelay:100,collapseOverMinimum:20}),this.dedupAndCollapse=function(t,e){this.dedupConversations(),this.collapseConversationTweets(e&&e.tweets)},this.dedupAndCollapseNew=function(t,e){this.dedupConversations(),e&&e.tweets&&e.tweets.length<=this.attr.collapseOverMinimum?this.collapseFirstConversationTweets(this.attr.collapseOverMinimum):this.collapseConversationTweets(e&&e.tweets)},this.dedupConversations=function(){var e=this,i=this.select("conversationModuleSelector");i.each(function(i,s){if(s.parentNode){var o=t(s).attr("data-ancestors").split(","),n=e.$node.find(e.idsToSelector(o)).filter(function(e,i){return!t(i).parent().hasClass("recap-module")});n.find(e.attr.conversationModuleSelector).addClass(e.attr.toBeRemovedClass);var r=e;n.slideUp({queue:!1,duration:"fast",complete:function(){var e=t(this);e.hasClass(r.attr.selectedClass)&&r.trigger("uiSelectNext",{maintainPosition:!0}),requestAnimationFrame(function(){r.trigger(e,"uiWillRemoveStreamItem"),e.remove()})}})}})},this.idToSelector=function(t){return this.attr.topLevelStreamItemSelector+"#stream-item-tweet-"+t},this.idsToSelector=function(t){return t.map(this.idToSelector.bind(this)).join(",")},this.collapseFirstConversationTweets=function(t){var e=this.$node.find(this.attr.streamItemSelector).slice(0,t).find(this.attr.conversationModuleSelector);this.collapseConversations(e)},this.collapseConversationTweets=function(t){var e=void 0;if(t){var i=t.map(function(t){return t.tweetId}),s=this.$node.find(this.idsToSelector(i));e=s.find(this.attr.conversationModuleSelector)}else e=this.select("conversationModuleSelector");this.collapseConversations(e)},this.collapseConversations=function(e){var i=this,s={},o={};e.get().reverse().forEach(function(e){var n=t(e),r=n.attr("data-ancestors"),a=n.find(".conversation-root .tweet").attr("data-item-id");n.hasClass("dont-collapse")||(s[r]?i.collapseAncestors(n):o[a]&&i.collapseRoot(n)),n.hasClass(i.attr.toBeRemovedClass)||(s[r]=!0,o[a]=!0)})},this.uncollapseConversationHandler=function(t,e){t.preventDefault();var i=this.conversationModuleFromEvent(t);this.uncollapseConversation(i),i.addClass("dont-collapse")},this.uncollapseConversation=function(t){t.find(".conversation-tweet-item.conversation-ancestor:visible").length>0?this.expandRoot(t):this.expandAncestors(t)},this.setSelectionToRoot=function(t){this.trigger(t.find(".conversation-root.conversation-tweet-item"),"uiSelectItem",{setFocus:!0})},this.expandAncestors=function(t){var e=this,i=t.find(this.attr.conversationHeaderSelector),s=t.find(".conversation-tweet-item, .missing-tweets-bar"),o=t.find(".original-tweet-item");this.slideAndFadeContent(i,s,o,function(){t.removeClass(e.attr.collapsedAncestorsClass).removeClass(e.attr.collapsedRootClass),e.setSelectionToRoot(t)})},this.expandRoot=function(t){var e=this,i=t.find(this.attr.conversationHeaderSelector),s=t.find(".conversation-tweet-item.conversation-root, .missing-tweets-bar"),o=t.find(".conversation-tweet-item.conversation-ancestor:not(.conversation-root):first");0===o.length&&(o=t.find(".original-tweet-item")),this.slideAndFadeContent(i,s,o,function(){e.setSelectionToRoot(t),t.removeClass(e.attr.collapsedAncestorsClass).removeClass(e.attr.collapsedRootClass)})},this.collapseAncestors=function(t){var e=t.find(".conversation-tweet-item, .missing-tweets-bar"),i=t.find(this.attr.conversationHeaderSelector),s=t.find(".original-tweet-item");this.slideAndFadeContent(e,i,s),t.addClass(this.attr.collapsedAncestorsClass)},this.collapseRoot=function(t){var e=t.find(".conversation-tweet-item.conversation-root, .missing-tweets-bar"),i=t.find(this.attr.conversationHeaderSelector),s=t.find(".conversation-tweet-item.conversation-ancestor:not(.conversation-root):first");0===s.length&&(s=t.find(".original-tweet-item")),this.slideAndFadeContent(e,i,s),1===t.find(".conversation-tweet-item").length?t.addClass(this.attr.collapsedAncestorsClass):t.addClass(this.attr.collapsedRootClass)},this.updateConversationItemClasses=function(e){var i=t(e.target),s=i.find(this.attr.conversationItemsSelector);s.removeClass(this.attr.unselectableStreamItemClass),s.removeClass(this.attr.firstNavigableStreamItemClass),s.removeClass(this.attr.lastNavigableStreamItemClass),s.filter(":hidden").addClass(this.attr.unselectableStreamItemClass);var o=s.filter(":visible");o.first().addClass(this.attr.firstNavigableStreamItemClass),o.last().addClass(this.attr.lastNavigableStreamItemClass),i.find(this.attr.conversationTweetsSelector).removeClass(this.attr.conversationFirstVisibleTweetClass).filter(":visible").first().addClass(this.attr.conversationFirstVisibleTweetClass)},this.conversationModuleFromEvent=function(e){return t(e.target).closest(this.attr.conversationModuleSelector)},this.after("initialize",function(){this.on(document,"uiHasInjectedOldTimelineItems",this.dedupAndCollapse),this.on(document,"uiHasInjectedNewTimeline",this.dedupAndCollapseNew),this.on("click",{uncollapseSelector:this.uncollapseConversationHandler}),this.on("uiShortcutEnter",{conversationHeaderSelector:this.uncollapseConversationHandler}),this.on("uiUncollapseConversation",this.uncollapseConversationHandler),this.on("uiConversationModuleUpdated",this.updateConversationItemClasses),this.dedupAndCollapse()})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=i(121),r=s(n),a=i(1191),c=s(a)}).call(e,i(10))},1191:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({animationTime:200}),this.slideAndFadeContent=function(t,e,i,s){var o=this;if(!t.is(":hidden")){var n=this.getCombinedHeight(t);t.hide(),e.show();var a=this.getCombinedHeight(e);this.setAbsolutePosition(e),e.hide(),t.show(),this.setAbsolutePosition(t),i.css("paddingTop",n),t.fadeOut((0,r.default)(this.attr.animationTime)),e.fadeIn((0,r.default)(this.attr.animationTime)),i.animate({paddingTop:a},(0,r.default)(this.attr.animationTime),function(){o.resetCss(t),o.resetCss(e),o.resetCss(i),o.trigger(i.closest(o.attr.conversationModuleSelector),"uiConversationModuleUpdated"),s&&s()})}},this.getCombinedHeight=function(e){var i=0;return e.each(function(){i+=t(this).outerHeight()}),i},this.setAbsolutePosition=function(e){e.get().reverse().forEach(function(e){var i=t(e),s=i.width(),o=i.height();i.css({position:"absolute",top:i.position().top}),i.width(s),i.height(o)})},this.resetCss=function(t){var e={position:"",top:"",width:"",height:"",paddingTop:""};t.css(e)}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(1192),r=s(n);e.default=o}).call(e,i(10))},1192:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=r.default.fromQuery(location).multiplier,i=window.DEBUG.multiplier||e||1;return t*i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=i(214),r=s(n)},1193:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){r.default.mixin(this,[c.default]),this.defaultAttrs({unchosenActionClass:"unchosen-action",dismissedModuleClass:"dismissed",dismissibleSelector:".dismissible-content",dismissModuleSelector:".dismiss-module",feedbackActionClickSelector:".dropdown .action-prompt",feedbackActionSelector:".feedback-action",undoActionSelector:".dismissed-module .undo-action",conversationTweetSelector:".conversation-module .tweet",converationModuleSelector:".conversation-module"}),this.getStreamItemFromEvent=function(e){return t(e.target).closest(this.attr.topLevelStreamItemSelector)},this.getSuggestionInfoFromStreamItem=function(t){var e=t.attr("data-suggestion-json");return e&&JSON.parse(e)},this.suggestionFeedback=function(t,e,i){var s=this.getSuggestionInfoFromStreamItem(t),o=e.attr("data-feedback-type");this.trigger("uiSuggestionFeedback",{suggestionInfo:s,feedbackType:o,undo:i})},this.selectAction=function(e,i){var s=this,o=t(e.target).closest(this.attr.feedbackActionClickSelector),n=o.attr("data-feedback-type"),r=this.getStreamItemFromEvent(e);r.addClass(this.attr.dismissedModuleClass),this.slideAndFadeContent(r.children(this.attr.dismissibleSelector),r.children(this.attr.dismissModuleSelector),r);var a=r.children(this.attr.dismissModuleSelector).find(this.attr.feedbackActionSelector);if(a.each(function(e,i){var o=t(i);o.toggleClass(s.attr.unchosenActionClass,o.attr("data-feedback-type")!==n)}),0!==r.find(this.attr.converationModuleSelector).length){var c=t(e.target).closest(this.attr.conversationTweetSelector),l=this.getSuggestionInfoFromStreamItem(r);l.tweet_ids=c.attr("data-tweet-id"),r.attr("data-suggestion-json",JSON.stringify(l))}this.suggestionFeedback(r,o,!1)},this.undoSelectAction=function(e,i){var s=t(e.target).closest(this.attr.feedbackActionSelector),o=this.getStreamItemFromEvent(e);o.removeClass(this.attr.dismissedModuleClass),this.slideAndFadeContent(o.children(this.attr.dismissModuleSelector),o.children(this.attr.dismissibleSelector),o),o.children(this.attr.dismissModuleSelector).find(this.attr.feedbackActionSelector).removeClass(this.attr.unchosenActionClass),this.suggestionFeedback(o,s,!0)},this.after("initialize",function(){this.on("click",{feedbackActionClickSelector:this.selectAction,undoActionSelector:this.undoSelectAction})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=i(121),r=s(n),a=i(1191),c=s(a)}).call(e,i(10))},1194:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){c.default.mixin(this,[r.default]),this.defaultAttrs({messageStreamItemSelector:".MessageStreamItem",dismissButtonSelector:".MessageStreamItem .Icon--close.js-dismiss",dismissSelector:".MessageStreamItem .js-dismiss",primaryActionSelector:".MessageStreamItem .js-primary-action",secondaryActionSelector:".MessageStreamItem .js-secondary-action"}),this.dismissMessage=function(t){this.scribe({component:this.getScribeComponent(t),action:"dismiss"});var e=this.getStreamItem(t);e.fadeOut(function(){return e.remove()})},this.scribeDismissButton=function(t){this.scribeClick(t,"dismiss")},this.scribePrimaryAction=function(t){this.scribeClick(t,"primary_action")},this.scribeSecondaryAction=function(t){this.scribeClick(t,"secondary_action")},this.scribeClick=function(t,e){this.scribe({component:this.getScribeComponent(t),element:e,action:"click"})},this.getScribeComponent=function(t){var e=this.getStreamItem(t);return e.attr("data-component-context")},this.getStreamItem=function(e){return t(e.target).closest(this.attr.messageStreamItemSelector)},this.after("initialize",function(){this.on("click",{dismissButtonSelector:this.scribeDismissButton,dismissSelector:this.dismissMessage,primaryActionSelector:this.scribePrimaryAction,secondaryActionSelector:this.scribeSecondaryAction})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=i(142),r=s(n),a=i(121),c=s(a)}).call(e,i(10))},1308:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,n.default)(t,t.notificationsTimelineEndpoint,"all_notifications_timeline","activity","stream")};var o=i(1309),n=s(o)},1309:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,i,s,o){(0,r.default)(t),(0,D.default)(t,e,i,s,o),c.default.attachTo(document,t),d.default.attachTo(document,t),m.default.attachTo(document),g.default.attachTo("#import-loading-dialog",t),w.default.attachTo(".dashboard .import-prompt",t,{otherServicesSelector:".other-services",eventData:{scribeContext:{component:"user_recommendations",element:"wtf_import_prompt"}}}),h.default.attachTo(window,{containerSelector:"#timeline"}),t.hasNotificationsDogpilePrompt&&(I.default.attachTo("#notifications-dogpile-dialog"),T.default.attachTo(document)),b.default.attachTo(document),k.default.attachTo(".NotificationsSettingsButton")}Object.defineProperty(e,"__esModule",{value:!0});var n=i(1310),r=s(n),a=i(1577),c=s(a),l=i(1578),d=s(l),u=i(838),h=s(u),f=i(1811),m=s(f),p=i(1746),g=s(p),v=i(1013),w=s(v),S=i(1599),b=s(S),C=i(1813),T=s(C),y=i(1814),I=s(y),R=i(1815),k=s(R),P=i(1448),D=s(P);e.default=o},1310:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(t){(0,r.default)(t),(0,m.default)(p,t),h.default.attachTo(document),d.default.attachTo(document),(0,c.default)(t)}Object.defineProperty(e,"__esModule",{value:!0});var n=i(161),r=s(n),a=i(1389),c=s(a),l=i(1298),d=s(l),u=i(958),h=s(u),f=i(1403),m=s(f),p=".dashboard .js-wtf-module";e.default=o},1311:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,n.default)(t,t.notificationsTimelineEndpoint,"mention_notifications_timeline","tweet","stream")};var o=i(1309),n=s(o)},1312:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,n.default)(t,t.notificationsTimelineEndpoint,"verified_notifications_timeline","activity","stream")};var o=i(1309),n=s(o)},1326:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({promotedTweetStoreCookieName:"h"}),this.cookie=r.default,this.promotedTweetDismissed=function(t,e){e.impressionId&&this.removeFromPromotedTweetStoreCookie(e)},this.removePromotedTweetsFromBlockedUser=function(e,i){var s=this.$node.find("[data-user-id="+i.userId+"].js-stream-tweet.promoted-tweet"),o=this;t.each(s,function(e,i){var s=t(i).attr("data-tweet-id");s&&o.removeFromPromotedTweetStoreCookie({id:s})})},this.removeFromPromotedTweetStoreCookie=function(e){var i=void 0;try{i=JSON.parse((0,r.default)(this.attr.promotedTweetStoreCookieName))}catch(s){i=[]}t.isArray(i)||(i=[i]),i=i.filter(function(t){return t&&t.tweet_id&&t.tweet_id!==e.id}),i=0===i.length?null:JSON.stringify(i),(0,r.default)(this.attr.promotedTweetStoreCookieName,i)},this.after("initialize",function(){this.on("uiTweetDismissed",this.promotedTweetDismissed),this.on(document,"jsClearReinjectionCookiesForUser",this.removePromotedTweetsFromBlockedUser)})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(154),r=s(n);e.default=o}).call(e,i(10))},1328:function(t,e){"use strict";function i(){this.defaultAttrs({dismissTweetSelector:".tweet .js-action-dismiss"}),this.after("initialize",function(){var t=this.mkTweetDataCollectorForAction(this.interactionDataWithCard);this.on("click",{dismissTweetSelector:this.composeHandler(this.getClosestTweet,t,this.triggerTweetAction("uiDismissTweet"))})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1339:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1053),n=s(o),r=i(1340),a=s(r);e.default=n.default.mixin(a.default)},1340:function(t,e,i){(function(t){"use strict";function i(){this.defaultAttrs({selectedStreamItemSelector:".selected-stream-item",ownTweetSelector:".my-tweet"}),this.isSelected=function(e,i,s){var o=this.select("selectedStreamItemSelector"),n=o[0],r=e.target;return o.is(r)||!(!n||!t.contains(n,r))},this.getSelectedTweet=function(t,e,i){var s=this.select("selectedStreamItemSelector").find(this.attr.tweetItemSelector),o=!!s.length;return o&&(i.$tweet=s),o},this.after("initialize",function(){if(this.attr.loggedIn){var t=this.mkTweetDataCollectorForAction(this.interactionDataWithCard),e=this.mkTweetDataCollectorForAction(this.interactionDataWithCard,this.getDataForReply);this.on("uiShortcutFavorite",this.composeHandler(this.isSelected,this.getSelectedTweet,t,this.toggleFavorite)),this.on("uiShortcutRetweet",this.composeHandler(this.isSelected,this.getSelectedTweet,t,this.toggleRetweet)),
this.on("uiShortcutReply",this.composeHandler(this.isSelected,this.getSelectedTweet,e,this.triggerTweetAction("uiReplyToTweet")))}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(e,i(10))},1389:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(t){h.default.attachTo(document),r.default.attachTo(document,{src:t.src,trendsCacheKey:t.trendsCacheKey,trendsModuleEndpoint:t.trendsEndpoint,show_context:t.show_context,profileUserId:t.profile_id,query:t.query}),m.default.attachTo(".module.trends",{loggedIn:t.loggedIn,displaySource:t.src,eventData:{scribeContext:{component:"trends"}}}),c.default.attachTo(document),d.default.attachTo(document),g.default.attachTo("#trends_dialog",{typeaheadData:t.typeaheadData,eventData:{scribeContext:{component:"trends_location_dialog"}}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=i(1390),r=s(n),a=i(1391),c=s(a),l=i(1392),d=s(l),u=i(1393),h=s(u),f=i(1394),m=s(f),p=i(1395),g=s(p)},1390:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({src:"module",$backoffNode:t(window),trendsModuleEndpoint:"/i/trends",trendsCacheKey:null,show_context:!0,trendsPollingOptions:{focusedInterval:3e5,blurredInterval:12e5,eventData:{source:"clock"}}}),this.makeTrendsRequest=function(t){var e=t.woeid,i=t.source,s=function(t){t.source=i,this.trigger("dataTrendsRefreshed",t)};this.get({url:this.attr.trendsModuleEndpoint,eventData:t,data:{k:this.currentCacheKey,woeid:e,pc:!0,personalized:t.personalized,src:this.attr.src,show_context:this.attr.show_context,profileUserId:this.attr.profileUserId,query:this.attr.query},success:s.bind(this),error:"dataTrendsRefreshedError"})},this.makeTrendsDialogRequest=function(t,e){var i={woeid:t.woeid,personalized:t.personalized,pc:!0},s=function(t){this.trigger("dataGotTrendsDialog",t),this.currentWoeid&&this.currentWoeid!==t.woeid&&this.trigger("dataTrendsLocationChanged"),this.currentWoeid=t.woeid,t.trends_cache_key&&(this.currentCacheKey=t.trends_cache_key,this.trigger("dataPageMutated")),t.update_module_html&&this.trigger("uiRefreshTrends",t)},o=e?this.post:this.get;o.call(this,{url:"/trends/dialog",eventData:t,data:i,success:s.bind(this),error:"dataGotTrendsDialogError"})},this.changeTrendsLocation=function(t,e){this.makeTrendsDialogRequest(e,!0)},this.refreshTrends=function(t,e){e=e||{},this.makeTrendsRequest(e)},this.getTrendsDialog=function(t,e){e=e||{},this.makeTrendsDialogRequest(e)},this.updateTrendsCacheKey=function(t,e){this.currentCacheKey=e.trendsCacheKey},this.after("initialize",function(){this.currentCacheKey=this.attr.trendsCacheKey,this.timer=(0,c.default)("uiRefreshTrends",this.attr.$backoffNode,this.attr.trendsPollingOptions),this.on("uiWantsTrendsDialog",this.getTrendsDialog),this.on("uiChangeTrendsLocation",this.changeTrendsLocation),this.on("uiRefreshTrends",this.refreshTrends),this.on("dataTempTrendsCacheKeyChanged",this.updateTrendsCacheKey)})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(966),c=s(a),l=i(246),d=s(l);e.default=(0,r.default)(o,d.default)}).call(e,i(10))},1391:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.getTrendsLocationDialog=function(t,e){var i=function(t){this.trigger("dataGotTrendsLocationDialog",t),t.trendLocations&&this.trigger("dataLoadedTrendLocations",{trendLocations:t.trendLocations})};this.get({url:"/trends/location_dialog",eventData:e,success:i.bind(this),error:"dataGotTrendsLocationDialogError"})},this.updateTrendsLocation=function(t,e){var i=e.location||{},s={woeid:i.woeid,personalized:e.personalized,pc:!0},o=function(t){this.trigger("dataChangedTrendLocation",{personalized:t.personalized,location:i}),t.trends_cache_key&&(this.trigger("dataTempTrendsCacheKeyChanged",{trendsCacheKey:t.trends_cache_key}),this.trigger("dataPageMutated")),t.update_module_html&&this.trigger("uiRefreshTrends",t)};this.post({url:"/trends/dialog",eventData:e,data:s,success:o.bind(this),error:"dataGotTrendsLocationDialogError"})},this.after("initialize",function(){this.on("uiWantsTrendsLocationDialog",this.getTrendsLocationDialog),this.on("uiChangeLocation",this.updateTrendsLocation)})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(246),c=s(a);e.default=(0,r.default)(o,c.default)},1392:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({storageName:"recent_trend_locations",storageKey:"locations",maxRecentLocations:5}),this.initializeStorage=function(){var t=(0,c.default)({withArray:!0,withMaxElements:!0});this.storage=new t(this.attr.storageName),this.storage.setMaxElements(this.attr.storageKey,this.attr.maxRecentLocations)},this.getRecentTrendLocations=function(){this.trigger("dataGotRecentTrendLocations",{trendLocations:this.storage.getArray(this.attr.storageKey)})},this.saveRecentLocation=function(t,e){var i=e.location||{};i.woeid&&!this.hasRecentLocation(i.woeid)&&(this.storage.push(this.attr.storageKey,i),this.getRecentTrendLocations())},this.hasRecentLocation=function(t){var e=this.storage.getArray(this.attr.storageKey);return e.some(function(e){return e.woeid===t})},this.after("initialize",function(){this.initializeStorage(),this.on("uiWantsRecentTrendLocations",this.getRecentTrendLocations),this.on("dataChangedTrendLocation",this.saveRecentLocation)})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(249),c=s(a),l=i(246),d=s(l);e.default=(0,r.default)(o,d.default)},1393:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.scribeTrendClick=function(t,e){this.scribe("search",e)},this.prepareScribeData=function(t){var e=t.initial?"initial":"newer",i={referring_event:e},s=!1;return i.items=t.items.map(function(t,e){var i={name:t.name,item_type:d.default.trend,item_query:t.name,position:e,token:t.token,id:t.id};return t.promotedTrendId&&(i.promoted_id=t.promotedTrendId,s=!0),i}),s&&(i.promoted=s),"clock"===t.source&&(i.event_initiator=h.default.clientSideApp),i},this.scribeTrendsResults=function(t,e){var i=this.prepareScribeData(e),s={element:i.referring_event,action:e.items&&e.items.length?"results":"no_results"};this.scribe(s,e,i),e.initial&&this.scribeTrendsImpression(e)},this.scribeTrendsImpression=function(t){this.scribe("impression",t)},this.after("initialize",function(){this.scribeOnEvent("uiTrendsDialogOpened","open"),this.on("uiTrendSelected",this.scribeTrendClick),this.on("uiTrendsDisplayed",this.scribeTrendsResults)})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(142),c=s(a),l=i(144),d=s(l),u=i(1175),h=s(u);e.default=(0,r.default)(o,c.default)},1394:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({changeLinkSelector:".change-trends",trendsInnerSelector:".trends-inner",trendItemSelector:".js-trend-item",trendLinkItemSelector:".js-trend-item a",itemType:"trend",displaySource:"module"}),this.openChangeTrendsDialog=function(t){this.trigger("uiShowTrendsLocationDialog"),t.preventDefault()},this.updateModuleContent=function(t,e){if(e.module_html){var i=this.$node.hasClass("hidden"),s=e.source;this.select("trendsInnerSelector").html(e.module_html),this.currentWoeid=e.woeid,this.$node.removeClass("hidden");var o=this.getTrendData(this.select("trendItemSelector"));this.trigger("uiTrendsDisplayed",{items:o,initial:i,source:s,scribeData:{woeid:this.currentWoeid}})}},this.trendSelected=function(e,i){var s=t(i.el).closest(this.attr.trendItemSelector),o=this.getTrendData(s)[0],n=s.index(),r={name:o.name,item_type:c.default.trend,item_query:o.name,position:n,token:o.token,id:o.id},a={position:n,query:o.name,url:s.find("a").attr("href"),woeid:this.currentWoeid};o.promotedTrendId&&(r.promoted_id=o.promotedTrendId,a.promoted=!0),a.items=[r],this.trigger("uiTrendSelected",{isPromoted:!!o.promotedTrendId,promotedTrendId:o.promotedTrendId,scribeContext:{element:"trend"},scribeData:a})},this.getTrendData=function(e){return e.map(function(){var e=t(this);return{name:e.attr("data-trend-name"),promotedTrendId:e.data("promoted-trend-id"),trendingEvent:e.hasClass("event-trend"),token:e.attr("data-trend-token"),id:e.attr("data-trends-id")}}).toArray()},this.after("initialize",function(){this.on(document,"dataTrendsRefreshed",this.updateModuleContent),this.on("click",{changeLinkSelector:this.openChangeTrendsDialog,trendLinkItemSelector:this.trendSelected}),this.trigger("uiRefreshTrends")})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(144),c=s(a),l=i(889),d=s(l);e.default=(0,r.default)(o,d.default)}).call(e,i(10))},1395:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({contentSelector:"#trends_dialog_content",quickSelectSelector:"#trend-locations-quick-select",dropdownSelector:"#trend-locations-dropdown-select",personalizedSelector:".trends-personalized",nonPersonalizedSelector:".trends-by-location",changeTrendsSelector:".customize-by-location",showDropdownSelector:".js-show-dropdown-select",showQuickSelectSelector:".js-show-quick-select",searchSelector:".trends-search-locations",nearbySelector:".trends-nearby-locations",recentSelector:".trends-recent-locations",currentLocationSelector:".trends-current-location",loadingSelector:"#trend-locations-loading",defaultSelector:".select-default",doneSelector:".done",errorSelector:".trends-dialog-error p",errorClass:"has-error"}),this.openDialog=function(t,e){this.trigger("uiTrendsDialogOpened"),this.initialized?this.setCurrentView():(this.trigger("uiWantsTrendsLocationDialog"),this.initialized=!0),this.$node.removeClass("has-error"),this.open()},this.setCurrentView=function(){this.attr.personalized?this.showPersonalizedView():this.showNonpersonalizedView(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showPersonalizedView=function(){this.select("nonPersonalizedSelector").hide(),this.select("personalizedSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showNonpersonalizedView=function(){this.select("personalizedSelector").hide(),this.select("nonPersonalizedSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showQuickSelectContainer=function(t,e){this.showNonpersonalizedView(),this.select("dropdownSelector").hide(),this.select("quickSelectSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showDropdownContainer=function(t,e){this.showNonpersonalizedView(),this.select("quickSelectSelector").hide(),this.select("dropdownSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.hideViews=function(){this.select("personalizedSelector").hide(),this.select("nonPersonalizedSelector").hide()},this.showError=function(t,e){this.hideViews(),this.hideLoading(),this.initialized=!1,this.$node.addClass(this.attr.errorClass),this.select("errorSelector").html(e.message),this.trigger(this.$dialog,"uiDialogContentChanged")},this.selectDefault=function(e,i){var s=t(e.target),o=!!s.data("personalized");o?this.setPersonalizedTrends():this.changeLocationInfo({name:s.data("name"),woeid:s.data("woeid")}),this.close()},this.reset=function(t,e){this.showQuickSelectContainer(),this.trigger("uiTrendsDialogReset")},this.initializeDialog=function(t,e){this.select("contentSelector").html(e.dialog_html),this.setLocationInfo(t,e),this.initializeComponents(),this.setCurrentView()},this.showLoading=function(){this.select("loadingSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.hideLoading=function(){this.select("loadingSelector").hide()},this.initializeComponents=function(t,e){m.default.attachTo(this.attr.currentLocationSelector,{location:this.attr.location,personalized:this.attr.personalized}),h.default.attachTo(this.attr.searchSelector,{typeaheadData:this.attr.typeaheadData}),d.default.attachTo(this.attr.dropdownSelector),g.default.attachTo(this.attr.nearbySelector,{location:this.attr.location,personalized:this.attr.personalized}),w.default.attachTo(this.attr.recentSelector,{location:this.attr.location,personalized:this.attr.personalized})},this.after("initialize",function(){this.hideViews(),this.on("uiChangeLocation",this.showLoading),this.on("uiTrendsLocationSearchNoResults",this.showDropdownContainer),this.on(document,"uiShowTrendsLocationDialog",this.openDialog),this.on("uiDialogClosed",this.reset),this.on(document,"dataGotTrendsLocationDialog",this.initializeDialog),this.on(document,"dataGotTrendsLocationDialogError",this.showError),this.on("uiLocationInfoUpdated",this.hideLoading),this.on("click",{doneSelector:this.close,defaultSelector:this.selectDefault,changeTrendsSelector:this.showNonpersonalizedView,showDropdownSelector:this.showDropdownContainer,showQuickSelectSelector:this.showQuickSelectContainer})})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(163),c=s(a),l=i(1396),d=s(l),u=i(1398),h=s(u),f=i(1399),m=s(f),p=i(1400),g=s(p),v=i(1402),w=s(v),S=i(1397),b=s(S);e.default=(0,r.default)(o,c.default,b.default)}).call(e,i(10))},1396:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({regionsSelector:'select[name="regions"]',citiesSelector:'select[name="cities"]'}),this.initializeCities=function(){var e=this;this.citiesByRegionWoeid={};var i=this.$cities.find("option");i.each(function(i,s){var o=t(s),n=o.data("woeid");e.citiesByRegionWoeid[n]||(e.citiesByRegionWoeid[n]=[]),e.citiesByRegionWoeid[n].push(o)})},this.updateDropdown=function(){var t=this.$regions.val(),e=this.citiesByRegionWoeid[t]||"";this.$cities.empty(),this.$cities.html(e)},this.updateRegion=function(){this.updateDropdown();var t=this.$cities.children().first();t.length&&(t.prop("selected",!0),t.change())},this.updateCity=function(){var t=this.$cities.find("option:selected"),e=parseInt(t.val(),10),i=t.data("name");this.currentSelection=e,this.changeLocationInfo({woeid:e,name:i})},this.possiblyClearSelection=function(){this.currentSelection!==this.attr.location.woeid&&this.reset()},this.reset=function(){this.currentSelection=null;var t=this.$regions.find('option[value=""]');t.prop("selected",!0),this.updateDropdown()},this.after("initialize",function(){this.$regions=this.select("regionsSelector"),this.$cities=this.select("citiesSelector"),this.initializeCities(),this.on(this.$regions,"change",this.updateRegion),this.on(this.$cities,"change",this.updateCity),this.on(document,"uiTrendsDialogReset",this.reset),this.on("uiLocationInfoUpdated",this.possiblyClearSelection),this.updateDropdown()})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(1397),c=s(a);e.default=(0,r.default)(o,c.default)}).call(e,i(10))},1397:function(t,e){"use strict";function i(){this.defaultAttrs({location:{},personalized:!1}),this.setLocationInfo=function(t,e){this.attr.personalized=!!e.personalized,this.attr.location=e.location||{},this.trigger("uiLocationInfoUpdated")},this.changeLocationInfo=function(t){this.trigger("uiChangeLocation",{location:t})},this.setPersonalizedTrends=function(){this.trigger("uiChangeLocation",{personalized:!0})},this.after("initialize",function(){this.on(document,"dataChangedTrendLocation",this.setLocationInfo)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1398:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({inputSelector:"input.trends-location-search-input"}),this.executeTypeaheadSelection=function(t,e){return e.item.woeid===-1?void this.trigger("uiTrendsLocationSearchNoResults"):(this.currentSelection=e.item,void this.changeLocationInfo({woeid:e.item.woeid,name:e.item.name}))},this.possiblyClearSelection=function(){this.currentSelection&&this.currentSelection.woeid!==this.attr.location.woeid&&this.reset()},this.reset=function(t,e){this.currentSelection=null,this.$input.val("")},this.after("initialize",function(){this.$input=this.select("inputSelector"),this.on("uiTypeaheadItemSelected uiTypeaheadItemComplete",this.executeTypeaheadSelection),this.on("uiLocationInfoUpdated",this.possiblyClearSelection),this.on(document,"uiTrendsDialogReset",this.reset),h.default.attachTo(this.$node,{inputSelector:this.attr.inputSelector}),d.default.attachTo(this.$node,{inputSelector:this.attr.inputSelector,hideOnEmptyQuery:!0,blockLinkActions:!0,datasourceRenders:[["trendLocations",["trendLocations"]]],deciders:this.attr.typeaheadData,eventData:{scribeContext:{component:"trends_location_search"}}})})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(1397),c=s(a),l=i(416),d=s(l),u=i(433),h=s(u);e.default=(0,r.default)(o,c.default)},1399:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({personalizedSelector:".js-location-personalized",nonpersonalizedSelector:".js-location-nonpersonalized",currentLocationSelector:".current-location"}),this.updateView=function(){this.attr.personalized||this.select("currentLocationSelector").text(this.attr.location.name),this.select("nonpersonalizedSelector").toggle(!this.attr.personalized),this.select("personalizedSelector").toggle(!!this.attr.personalized)},this.after("initialize",function(){this.updateView(),this.on("uiLocationInfoUpdated",this.updateView)})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(1397),c=s(a);e.default=(0,r.default)(o,c.default)},1400:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(1401),c=s(a);e.default=(0,r.default)(o,c.default)},1401:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){r.default.mixin(this,[c.default]),this.defaultAttrs({locationSelector:".trend-location-picker-item",selectedAttr:"selected"}),this.selectLocation=function(e,i){e.preventDefault();var s=t(i.el),o={woeid:s.data("woeid"),name:s.data("name")};this.changeLocationInfo(o),this.showSelected(o.woeid,!1)},this.showSelected=function(t,e){var i=this.select("locationSelector");i.removeClass(this.attr.selectedAttr),!e&&t&&i.filter('[data-woeid="'+t+'"]').addClass(this.attr.selectedAttr)},this.locationInfoUpdated=function(){this.showSelected(this.attr.location.woeid,this.attr.personalized)},this.after("initialize",function(){this.on("uiLocationInfoUpdated",this.locationInfoUpdated),this.on("click",{locationSelector:this.selectLocation}),this.showSelected(this.attr.location.woeid,this.attr.personalized)})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(121),r=s(n),a=i(1397),c=s(a);e.default=o}).call(e,i(10))},1402:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({listContainerSelector:".trend-location-picker"}),this.loadTrendLocations=function(t,e){var i=e.trendLocations;this.$list.empty(),i.forEach(function(t){var e=this.$template.clone(!1),i=e.find("button");i.text(t.name),i.attr("data-woeid",t.woeid),i.attr("data-name",t.name),this.$list.append(e)},this),this.$node.toggle(i.length>0)},this.after("initialize",function(){this.$list=this.select("listContainerSelector"),this.$template=this.$list.find("li:first").clone(!1),this.on(document,"dataGotRecentTrendLocations",this.loadTrendLocations),this.trigger("uiWantsRecentTrendLocations")})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(1401),c=s(a);e.default=(0,r.default)(o,c.default)},1403:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,i){var s=n({},e,i,{eventData:{scribeContext:{component:"user_recommendations"}}});f.default.attachTo(t,s),a.default.attachTo(t,s),l.default.attachTo(document,s),u.default.attachTo(t,s)}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.default=o;var r=i(1404),a=s(r),c=i(1407),l=s(c),d=i(1408),u=s(d),h=i(1409),f=s(h)},1404:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({dashboardSelector:".dashboard-user-recommendations",recUserSelector:".js-actionable-user",dismissRecSelector:".js-action-dismiss",viewAllSelector:".js-view-all-link",findFriendsSelector:".js-find-friends-link"}),this.dismissRecommendation=function(e,i){if(!this.currentlyRefreshing){this.currentlyDismissing=!0;var s=t(e.target).closest(this.attr.recSelector),o=s.attr("data-user-id");this.trigger("uiDismissUserRecommendation",{recommended_user_id:o,impressionId:s.attr("data-impression-id"),excluded:[o],visible:this.getVisibleIds(s),token:s.attr("data-feedback-token"),dismissable:this.attr.wtfOptions.dismissable,refreshUserId:o}),this.animateContentOut(s,"animationCallback")}},this.handleDismissResponse=function(e,i){var s=this;if(i=i||{},this.currentlyDismissing=!1,i.user_recommendations_html){var o=this.currentlyRefreshingUser(i),n=t(i.user_recommendations_html),r=n.attr("data-user-id");if(this.select("recSelector").is("[data-user-id="+r+"]"))return void o.find(this.attr.dismissRecSelector).click();var a=this.getItemPosition(o);this.animateContentIn(o,"animationCallback",i.user_recommendations_html,{modOp:"replaceWith",scribeCallback:function(){var t={oldUser:s.interactionData(o,{position:a})};n.length&&(t.newUser=s.interactionData(n,{position:a})),s.trigger("uiDidDismissUserRecommendation",t)}})}else this.handleEmptyDismissResponse(i)},this.handleDismissError=function(t,e){this.handleEmptyDismissResponse(e)},this.handleEmptyDismissResponse=function(t){var e=this.currentlyRefreshingUser(t);e&&e.remove(),this.select("recSelector").length||(this.trigger("uiShowMessage",{message:"You have no more recommendations today!"}),this.$node.remove())},this.enable=function(){this.disabled=!1,this.refreshRecommendations({type:"empty-timeline"}),this.$node.show()},this.initRecommendations=function(t,e){this.disabled?this.$node.hide():this.verifyInitialRecommendations(t,e)},this.reset=function(){this.currentlyRefreshing||this.currentlyDismissing?this.select("dashboardSelector").html(""):(this.select("dashboardSelector").css("opacity",1),this.select("recUserSelector").css("opacity",1))},this.expandWhoToFollow=function(t,e){this.currentlyExpanding=!0;var i=n({},this.attr.wtfOptions,{limit:3,visible:this.getVisibleIds(t),refreshUserId:e.userId,get_replacement:!0});this.trigger("uiGetUserRecommendations",i)},this.triggerLinkClickScribes=function(e){var i=this,s={import_link:this.attr.findFriendsSelector,view_all_link:this.attr.viewAllSelector,refresh_link:this.attr.refreshRecsSelector},o=t(e.target);t.each(s,function(t,e){o.is(e)&&i.trigger(document,"uiClickedWtfLink",{element:t})})},this.getNewRecommendations=function(t,e,i){var s=this.attr.wtfOptions.display_location;"wtf-component"===s&&!this.currentlyExpanding&&this.getVisibleIds(null,!0).length<=3?this.expandWhoToFollow(e,i):t(e,i)},this.after("initialize",function(){this.disabled=!!this.attr.wtfOptions&&this.attr.wtfOptions.disabled,this.on(document,"dataDidDismissRecommendation",this.handleDismissResponse),this.on(document,"dataFailedToDismissUserRecommendation",this.handleDismissError),this.on(document,"uiDidHideEmptyTimelineModule",this.enable),this.on(document,"uiSwiftLoaded uiPageChanged",this.initRecommendations),this.on(document,"uiBeforePageChanged",this.reset),this.on("click",{dismissRecSelector:this.dismissRecommendation,viewAllSelector:this.triggerLinkClickScribes,findFriendsSelector:this.triggerLinkClickScribes,refreshRecsSelector:this.triggerLinkClickScribes}),this.around("cycleRecommendation",function(t,e,i){this.getNewRecommendations(t,e,i)})})}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(123),a=(s(r),i(111)),c=s(a),l=i(892),d=s(l),u=i(889),h=s(u),f=i(1405),m=s(f),p=i(1406),g=s(p);e.default=(0,c.default)(o,d.default,h.default,m.default,g.default)}).call(e,i(10))},1405:function(t,e){"use strict";function i(){this.defaultAttrs({connectOtherSelector:".js-connect-other",otherServicesSelector:".other-services"}),this.toggleOtherServices=function(){var t=this.select("otherServicesSelector"),e=void 0;t.hasClass("hidden")?(t.removeClass("hidden"),e="open"):(t.addClass("hidden"),e="close"),this.trigger("uiWTFImportPromptToggle",{action:e})},this.after("initialize",function(){this.trigger("uiWTFImportPromptImpression"),this.on("click",{connectOtherSelector:this.toggleOtherServices})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1406:function(t,e,i){(function(t){"use strict";function s(){this.defaultAttrs({refreshAnimationDuration:200,cycleTimeout:1e3,experimentCycleTimeout:300,wtfOptions:{},selfPromotedAccountHtml:"",$accountPriorToPreview:null,successClass:"has-content",recListSelector:".js-recommended-followers",recSelector:".js-actionable-user",refreshRecsSelector:".js-refresh-suggestions",expandedContainerSelector:".js-expanded-container",itemType:"user"}),this.refreshRecommendations=function(t,e){if(!this.currentlyRefreshing){this.currentlyRefreshing=!0;var i=this.getVisibleIds(null,!0).length||this.attr.wtfOptions.limit;this.trigger("uiRefreshUserRecommendations",o({},this.attr.wtfOptions,{excluded:this.getVisibleIds(),limit:i,refreshType:t.type})),this.hideRecommendations()}},this.sendGetRecommendationEvent=function(t,e){this.trigger("uiGetUserRecommendations",o({},this.attr.wtfOptions,t||{}))},this.getUserRecommendations=function(t,e){this.sendGetRecommendationEvent(t,e),this.hideRecommendations()},this.hideRecommendations=function(){this.animateContentOut(this.select("recListSelector"),"animationCallback")},this.isNewUserDuplicate=function(t){return this.getVisibleIds().indexOf(t)!==-1},this.handleRecommendationsResponse=function(e,i){var s=this,n=this.getVisibleIds();if(!this.disabled){i=i||{},this.hasRecommendations()||(i=o({},i,{initialResults:!0}));var r=t.trim(i.user_recommendations_html);if(r){var a=this.currentlyRefreshingUser(i);if(this.$node.addClass(this.attr.successClass),this.shouldExpandWtf(i)){var c=t(r),l=c.filter(this.attr.recSelector).first(),d=c.filter(this.attr.expandedContainerSelector),u=d.find(".js-actionable-user").filter(function(){return n.indexOf(t(this).data("user-id")+"")===-1});d.empty(),u.each(function(){d.append(this)}),a&&!this.isNewUserDuplicate(l.data("user-id")+"")&&this.animateContentIn(a,"animationCallback",t("<div>").append(l).html(),{modOp:"replaceWith",scribeCallback:function(){s.currentlyExpanding?s.pendingScribe=!0:s.reportUsersDisplayed(i)}}),d.length&&this.animateExpansion(d,i)}else{if(this.isNewUserDuplicate(t(r).data("user-id")+""))return;var h=this.select("recListSelector"),f=void 0;a&&(h=a,f="replaceWith"),this.animateContentIn(h,"animationCallback",r,{modOp:f,scribeCallback:function(){return s.reportUsersDisplayed(i)}})}}else this.handleEmptyRefreshResponse(e,i),this.trigger("uiGotEmptyRecommendationsResponse",i)}},this.handleRefreshError=function(t,e){this.handleEmptyRefreshResponse(t,e)},this.handleEmptyRefreshResponse=function(t,e){if(this.select("recSelector").length){if(this.currentlyExpanding){var i=this.currentlyRefreshingUser(e);if(e&&e.sourceEventData&&e.sourceEventData.clusterfollow&&i)return this.currentlyExpanding=!1,void this.replenishWhoToFollowDashboard(i)}var s=this.select("recListSelector"),o=this.currentlyRefreshingUser(e);o&&(s=o),this.animateContentIn(s,"animationCallback",s.html())}},this.getVisibleIds=function(e,i){var s=this.select("recSelector").not(e);return i||(s=s.not(".promoted-account")),s.map(function(){return t(this).attr("data-user-id")}).toArray()},this.originalItemCount=function(){return t(this.attr.recListSelector).children(this.attr.recSelector).length},this.doAfterFollowAction=function(t,e){var i=this;if(!this.disabled&&"following"===e.newState){var s=this.expandBucket?this.attr.experimentCycleTimeout:this.attr.cycleTimeout;setTimeout(function(){if(!i.currentlyRefreshing){var t=i.select("recSelector").filter("[data-user-id='"+e.userId+"']");t.length&&i.cycleRecommendation(t,e)}},s)}},this.cycleRecommendation=function(t,e){this.animateContentOut(t,"animationCallback");var i=o({},this.attr.wtfOptions,{limit:1,visible:this.getVisibleIds(t),refreshUserId:e.userId});this.trigger("uiGetUserRecommendations",i)},this.animateExpansion=function(t,e){var i=this.select("recListSelector"),s=this.select("expandedContainerSelector"),o=function(){this.pendingScribe&&(this.reportUsersDisplayed(e),this.pendingScribe=!1),this.currentlyExpanding=!1};s.length?s.html(t.html()):i.append(t),t.is(":visible")?o.bind(this)():t.slideDown("slow",o.bind(this))},this.animateContentIn=function(t,e,i,s){var o=this;if(t.length){s=s||{};var n=function(){t.is(o.attr.recListSelector)&&(o.currentlyRefreshing=!1),t[s.modOp||"html"](i).animate({opacity:1},o.attr.refreshAnimationDuration),s.scribeCallback&&s.scribeCallback()};t.is(":animated")?this[e]=n:n()}},this.animateContentOut=function(t,e){var i=this;t.animate({opacity:0},{duration:this.attr.refreshAnimationDuration,complete:function(){i[e]&&i[e](),i[e]=null}})},this.getItemPosition=function(t){var e=this.originalItemCount();return t.closest(this.attr.expandedContainerSelector).length?e+t.closest(this.attr.recSelector).index():t.closest(this.attr.recSelector).index()},this.currentlyRefreshingUser=function(t){return t&&t.sourceEventData&&t.sourceEventData.refreshUserId?this.select("recSelector").filter("[data-user-id="+t.sourceEventData.refreshUserId+"]"):null},this.shouldExpandWtf=function(t){return!!(t&&t.sourceEventData&&t.sourceEventData.get_replacement)},this.getUsersDisplayed=function(){var e=this.select("recSelector"),i=[];return e.each(function(e,s){var o=t(s);i.push({id:o.attr("data-user-id"),impressionId:o.attr("data-impression-id")})}),i},this.reportUsersDisplayed=function(t){var e=this.getUsersDisplayed();this.trigger("uiUsersDisplayed",{users:e}),this.trigger("uiDidGetRecommendations",t)},this.verifyInitialRecommendations=function(t,e){this.hasRecommendations()?this.reportUsersDisplayed({initialResults:!0}):this.sendGetRecommendationEvent({initialResults:!0})},this.hasRecommendations=function(){return this.select("recSelector").length>0},this.storeSelfPromotedAccount=function(t,e){e.html&&(this.selfPromotedAccountHtml=e.html)},this.replaceUser=function(t,e){t.tooltip("hide"),t.parent().hasClass("preview-wrapper")&&t.unwrap(),t.replaceWith(e)},this.replaceUserAnimation=function(e,i){e.tooltip("hide"),this.before("teardown",function(){this.replaceUser(e,i)});var s=t("<div/>",{"class":e.attr("class"),style:e.attr("style")}).addClass("preview-wrapper");e.wrap(s);var o=e.css("minHeight");e.css({minHeight:0}).slideUp(70,function(){i.attr("style",e.attr("style")),e.replaceWith(i),i.delay(350).slideDown(70,function(){i.css({minHeight:o}),i.unwrap(),setTimeout(function(){i.tooltip("show"),setTimeout(function(){return i.tooltip("hide")},8e3)},500)})})},this.handlePreviewPromotedAccount=function(){if(!this.disabled&&this.selfPromotedAccountHtml){var e=t(this.selfPromotedAccountHtml),i=this.select("recSelector").first();this.attr.$accountPriorToPreview=i.clone(),this.replaceUserAnimation(i,e),e.find("a").on("click",function(t){t.preventDefault(),t.stopPropagation()})}},this.maybeRestoreAccountPriorToPreview=function(){var t=this.attr.$accountPriorToPreview;t&&(this.replaceUser(this.select("recSelector").first(),t),this.attr.$accountPriorToPreview=null)},this.after("initialize",function(){this.on(document,"dataDidGetUserRecommendations",this.handleRecommendationsResponse),this.on(document,"dataFailedToGetUserRecommendations",this.handleRefreshError),this.on(document,"dataFollowStateChange",this.doAfterFollowAction),
this.on("click",{refreshRecsSelector:this.refreshRecommendations}),this.on(document,"dataDidGetSelfPromotedAccount",this.storeSelfPromotedAccount),this.on(document,"uiPromptbirdPreviewPromotedAccount",this.handlePreviewPromotedAccount),this.on(document,"uiPromptbirdDismissPrompt",this.maybeRestoreAccountPriorToPreview)})}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};i(449),e.default=s}).call(e,i(10))},1407:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.attributes({maxExcludedRecsInLocalStorage:100,endpoints:{users:{url:"/i/users/recommendations",method:"GET",successEvent:"dataDidGetUserRecommendations",errorEvent:"dataFailedToGetUserRecommendations"},dismiss:{url:"/i/users/recommendations/hide",method:"POST",successEvent:"dataDidDismissRecommendation",errorEvent:"dataFailedToDismissUserRecommendation"},promoted_self:{url:"/i/users/promoted_self",method:"GET",successEvent:"dataDidGetSelfPromotedAccount",errorEvent:"dataFailedToGetSelfPromotedAccount"}},endpointUrlOverrides:{}}),this.refreshEndpoint=function(t){return this.hitEndpoint(t,{"Cache-Control":"max-age=0",Pragma:"no-cache"})},this.hitEndpoint=function(t,e){var i=this;e=e||{};var s=this.attr.endpoints[t],o=this.attr.endpointUrlOverrides[t]||s.url;return function(t,r){r=r||{},r.excluded=r.excluded||[];var a=r.visible||[];delete r.visible,i.JSONRequest({type:s.method,url:o,headers:e,dataType:"json",data:n({},r,{excluded:i.storage.pushAll("excluded",r.excluded).concat(a).join(",")}),eventData:r,success:s.successEvent,error:s.errorEvent},s.method)}},this.excludeUsers=function(t,e){this.storage.pushAll("excluded",e.userIds),this.trigger("dataDidExcludeUserRecommendations",e)},this.excludeFollowed=function(t,e){e=e||{},"following"===e.newState&&e.userId&&this.storage.push("excluded",e.userId)},this.after("initialize",function(){var t=(0,l.default)({withArray:!0,withMaxElements:!0,withUniqueElements:!0});this.storage=new t("excluded_wtf_recs"),this.storage.setMaxElements("excluded",this.attr.maxExcludedRecsInLocalStorage),this.on(document,"uiRefreshUserRecommendations",this.refreshEndpoint("users")),this.on(document,"uiGetUserRecommendations",this.hitEndpoint("users")),this.on(document,"uiDismissUserRecommendation",this.hitEndpoint("dismiss")),this.on(document,"uiAddWtfBlacklistUsers",this.excludeUsers),this.on(document,"dataFollowStateChange",this.excludeFollowed),this.on(document,"uiPromptbirdWantsPromotedSelf",this.hitEndpoint("promoted_self"))})}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(111),a=s(r),c=i(249),l=s(c),d=i(246),u=s(d),h=(0,a.default)(o,u.default);e.default=h},1408:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({userSelector:".js-actionable-user",itemType:"user"}),this.scribeDismissRecommendation=function(t,e){this.scribeInteraction("dismiss",e.oldUser),e.newUser&&this.scribeInteraction({element:"replace",action:"results"},e.newUser,{referring_event:"replace"})},this.scribeRecommendationResults=function(e,i){var s=this,o=[];e.emptyResponse||this.$node.find(this.attr.userSelector).map(function(e,i){return o.push(s.interactionData(t(i),{position:e}))});var n=e.emptyResponse?"no_results":"results";this.scribeInteractiveResults({element:i,action:n},o,e,{referring_event:i})},this.scribeRecommendations=function(t,e){var i=e.sourceEventData||{},s=e.initialResults||i.initialResults;s?(this.scribeRecommendationResults(e,"initial"),e.emptyResponse||this.scribeRecommendationImpression(e)):(this.scribe({action:"refresh"},e,{event_info:i.refreshType}),this.scribeRecommendationResults(e,"newer"))},this.scribeEmptyRecommendationsResponse=function(t,e){this.scribeRecommendations(t,n({},e,{emptyResponse:!0}))},this.scribeRecommendationImpression=function(t){this.scribe("impression",t)},this.scribeLinkClicks=function(t,e){this.scribe({component:"user_recommendations",element:e.element,action:"click"})},this.after("initialize",function(){this.on(document,"uiDidDismissUserRecommendation",this.scribeDismissRecommendation),this.on(document,"uiDidGetRecommendations",this.scribeRecommendations),this.on(document,"uiGotEmptyRecommendationsResponse",this.scribeEmptyRecommendationsResponse),this.on(document,"uiClickedWtfLink",this.scribeLinkClicks)})}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(111),a=s(r),c=i(138),l=s(c),d=i(141),u=s(d);e.default=(0,a.default)(o,l.default,u.default)}).call(e,i(10))},1409:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.scribeImpression=function(t,e){this.scribe(n({},e.scribeContext,{element:"wtf_import_prompt",action:"impression"}))},this.scribeToggle=function(t,e){this.scribe(n({},e.scribeContext,{element:"wtf_import_prompt",action:e.action}),{section:"other_services"})},this.after("initialize",function(){this.on("uiWTFImportPromptImpression",this.scribeImpression),this.on("uiWTFImportPromptToggle",this.scribeToggle)})}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(111),a=s(r),c=i(142),l=s(c);e.default=(0,a.default)(o,l.default)},1448:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,i,s,o){var r=n({},t,{endpoint:e,itemType:s,eventData:{scribeContext:{component:o||s}}});(0,a.default)(n({},r,{statsName:i})),(0,l.default)("#timeline",r);var c="home"===r.pageName||"me"===r.pageName||"profile"===r.pageName,d=c?[v.default]:[];C.default.mixin.apply(this,d).attachTo("#timeline",r);var h=[];c&&(h=h.concat(p.default),y.default.attachTo("#timeline",r)),f.default.attachTo(document),u.default.mixin.apply(this,h).attachTo("#timeline",r),S.default.attachTo("#timeline",r)}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(1128),a=s(r),c=i(1131),l=s(c),d=i(1339),u=s(d),h=i(1298),f=s(h),m=i(1328),p=s(m),g=i(1326),v=s(g),w=i(954),S=s(w),b=i(1170),C=s(b),T=i(1449),y=s(T);e.default=o},1449:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({promotedTweetSelector:".promoted-tweet:not(.scribed)",promotedTweetForImpressionsSelector:".promoted-tweet:not(.presented)",scrollThrottle:100}),this.processTweets=function(){var e=this,i=d.default.getGlobalNavHeight(),s=this.$node.find(this.attr.promotedTweetSelector),o=this.$node.find(this.attr.promotedTweetForImpressionsSelector),n=s.filter(function(s,o){return d.default.isContainedInViewport(e.$window,t(o),i,0)}),r=o.filter(function(s,o){return d.default.isPartiallyContainedInViewport({$container:e.$window,$element:t(o),topThreshold:i,fractionInViewport:0})});if(r.length){r.addClass("presented");var a=r.map(function(e,i){return{impressionId:t(i).data("impression-id"),disclosureType:t(i).data("disclosure-type")}}).get();this.trigger("uiPromotedTweets1pxInViewport",{items:a})}if(n.length){n.addClass("scribed");var c=n.map(function(e,i){return{impressionId:t(i).data("impression-id"),disclosureType:t(i).data("disclosure-type")}}).get();this.trigger("uiPromotedTweetsInViewport",{items:c})}},this.after("initialize",function(e,i){this.$window=t(window),i&&i.inOverlay?this.on(e,"scroll resize",c.default.throttle(this.processTweets.bind(this),this.attr.scrollThrottle)):this.on(document,"scroll resize",c.default.throttle(this.processTweets.bind(this),this.attr.scrollThrottle)),this.on(document,"uiSwiftLoaded uiPageVisible uiPageChanged uiHasInjectedNewTimeline uiHasInjectedOldTimelineItems",this.processTweets)})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(126),c=s(a),l=i(177),d=s(l);e.default=(0,r.default)(o)}).call(e,i(10))},1577:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.contactImportStatus=function(t,e){this.get({url:"/who_to_follow/import/status",data:{},eventData:e,success:"dataContactImportStatusSuccess",error:"dataContactImportStatusFailure"})},this.contactImportFollow=function(t,e){var i={user_ids:e.includeIds||[],unchecked_user_ids:e.excludeIds||[]};this.post({url:"/find_sources/contacts/follow_some.json",data:i,eventData:e,success:this.handleContactImportSuccess.bind(this),error:"dataContactImportFollowFailure"})},this.handleContactImportSuccess=function(t){var e=this;t.followed_ids.forEach(function(t){return e.trigger("dataBulkFollowStateChange",{userId:t,newState:"following"})}),t.requested_ids.forEach(function(t){return e.trigger("dataBulkFollowStateChange",{userId:t,newState:"pending"})}),this.trigger("dataContactImportFollowSuccess",t)},this.wipeAddressbook=function(t,e){this.post({url:"/settings/contacts/wipe_addressbook",data:{},eventData:e,success:"dataWipeAddressbookSuccess",error:"dataWipeAddressbookFailure"})},this.getMatchesModule=function(t,e){function i(t){t.html&&this.trigger("dataContactImportMatchesSuccess",t)}this.get({url:"/who_to_follow/matches",data:{},eventData:e,success:i.bind(this),error:"dataContactImportMatchesFailure"})},this.inviteModule=function(t,e){function i(t){t.html&&this.trigger("dataInviteModuleSuccess",t)}this.get({url:"/who_to_follow/invite",data:{},eventData:e,success:i.bind(this),error:"dataInviteModuleFailure"})},this.after("initialize",function(){this.on(document,"uiWantsContactImportStatus",this.contactImportStatus),this.on(document,"uiContactImportFollow",this.contactImportFollow),this.on(document,"uiWantsAddressbookWiped",this.wipeAddressbook),this.on(document,"uiWantsContactImportMatches",this.getMatchesModule),this.on(document,"uiWantsInviteModule",this.inviteModule)})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(246),c=s(a);e.default=(0,r.default)(o,c.default)},1578:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({findFriendsSelector:".find-friends-btn",wipeAddressbookSelector:".js-wipe-addressbook",contactsImportSelector:".contacts-import-btn"}),this.scribeServiceLaunch=function(t,e){var i={query:e.service};e.section&&(i.section=e.section),this.scribe(n({},e.scribeContext,{action:"launch_service"}),i)},this.scribeFollowSuccess=function(t,e){var i=u.default.user,s=e.followed_ids.map(function(t){return{id:t,item_type:i}});this.scribe({component:"stream_header",action:"follow"},{item_count:e.followed_ids.length,items:s,event_value:e.followed_ids.length,event_info:"follow_all"})},this.scribeImportSuccess=function(t,e){e.done&&this.scribe(n({},e.scribeContext,{element:"email_import",action:"success"}))},this.scribeWipeAddressbookSuccess=function(t,e){this.scribe({element:"remove_all_contacts",action:"success"},{user_id:e.user_id})},this.scribeWipeAddressbookFailure=function(t,e){this.scribe({element:"remove_all_contacts",action:"failure"},{user_id:e.user_id})},this.scribeFindFriends=function(){this.scribe({component:"empty_timeline",element:"find_friends_link",action:"click"})},this.scribeWipeAddressbook=function(){this.scribe({element:"remove_all_contacts",action:"open"})},this.scribeContactsImport=function(){this.scribe({element:"contacts_import_link",action:"open"})},this.after("initialize",function(){this.on("uiImportServiceLaunched",this.scribeServiceLaunch),this.on("dataContactImportStatusSuccess",this.scribeImportSuccess),this.on("dataContactImportFollowSuccess",this.scribeFollowSuccess),this.on("dataWipeAddressbookSuccess",this.scribeWipeAddressbookSuccess),this.on("dataWipeAddressbookFailure",this.scribeWipeAddressbookFailure),this.on("click",{findFriendsSelector:this.scribeFindFriends,wipeAddressbookSelector:this.scribeWipeAddressbook,contactsImportSelector:this.scribeContactsImport})})}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(111),a=s(r),c=i(142),l=s(c),d=i(144),u=s(d);e.default=(0,a.default)(o,l.default)},1599:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.after("initialize",function(){this.scribeOnEvent("dataMuteKeywordsAddKeywordSuccess",{element:"add",action:"mute"}),this.scribeOnEvent("dataMuteKeywordsRemuteKeywordSuccess",{element:"toast",action:"mute"}),this.scribeOnEvent("dataMuteKeywordsDeleteKeywordSuccess",{element:"list",action:"unmute"}),this.scribeOnEvent("uiMuteKeywordsEducationDialogShown",{element:"interstitial",action:"impression"}),this.scribeOnEvent("uiMuteKeywordsTooltipShown",{component:"mute_keyword",element:"interstitial",action:"impression"})})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(142),c=s(a);e.default=(0,r.default)(o,c.default)},1608:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){r.default.mixin(this,[d.default]),this.initStore=function(){this.store||(this.store=new c.default(this.attr.storeName+"_"+h.default.user.id))},this.shouldShowDialog=function(){if(this.attr.storeName){if(this.initStore(),this.store.getItem("seen_dialog"))return!1;this.store.setItem("seen_dialog","1")}return!0},this.showEducationDialog=function(){this.shouldShowDialog()&&this.open()}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(121),r=s(n),a=i(202),c=s(a),l=i(163),d=s(l),u=i(136),h=s(u);e.default=o},1746:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.after("afterClose",function(){this.trigger("uiImportLoadingDialogCancelled")}),this.after("initialize",function(){this.on(document,"uiOpenImportLoadingDialog",this.open),this.on(document,"uiCloseImportLoadingDialog",this.close)})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(163),c=s(a);e.default=(0,r.default)(o,c.default)},1811:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.attributes({menuItemSelector:".ActivityItem-dismissOption",notificationSelector:".ActivityItem--generic",clickableNotificationSelector:".ActivityItem--generic.has-clickAction",excludedClickTargets:"a, .dropdown-link, .js-user-profile-link"}),this.handleMenuItemClick=function(e,i){var s=t(e.target),o=s.closest(this.attr.notificationSelector),n=s.data("toast-text"),r=s.data("scribe-action"),a=o.data("component-context");this.trigger("uiShowMessage",{message:n,timeout:3e3}),this.trigger("uiCloseDropdowns"),this.scribe({component:a,element:r,action:"click"})},this.handleNotificationClick=function(e,i){var s=t(e.target);if(s.is(this.attr.excludedClickTargets))return!1;var o=s.closest(this.attr.notificationSelector),n=o.data("click-action"),r=o.hasClass("is-overlayLanding"),a=r?"uiShowGenericNotificationOverlay":"uiNavigate";this.trigger(a,{href:n})},this.after("initialize",function(){this.attachChild(r.default,"#generic-notification-dialog"),this.on("click",{menuItemSelector:this.handleMenuItemClick,clickableNotificationSelector:this.handleNotificationClick})})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(1812),r=s(n),a=i(111),c=s(a),l=i(142),d=s(l),u=i(233),h=s(u);e.default=(0,c.default)(o,d.default,h.default)}).call(e,i(10))},1812:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({iframeSelector:"iframe.GenericNotificationDialog-iframe"}),this.showOverlay=function(t,e){var i=e.href;this.$iframe.attr("src",i),this.open()},this.clearIframe=function(){this.$iframe.attr("src","")},this.after("initialize",function(){this.$iframe=this.select("iframeSelector"),this.on(document,"uiShowGenericNotificationOverlay",this.showOverlay),this.on("uiDialogCloseRequested",this.clearIframe)})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(163),c=s(a);e.default=(0,r.default)(o,c.default)},1813:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.after("initialize",function(){this.scribeOnEvent("uiNotificationsDogpilePromptShown",{component:"circuit_breaker",action:"impression"}),this.scribeOnEvent("uiNotificationsDogpilePromptConfirm",{component:"circuit_breaker",element:"adjust_filters",action:"click"}),this.scribeOnEvent("uiNotificationsDogpilePromptCancel",{component:"circuit_breaker",element:"no_thanks",action:"click"})})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(141),c=s(a);e.default=(0,r.default)(o,c.default)},1814:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({confirmSelector:".js-confirm",cancelSelector:".js-close"}),this.cancel=function(){this.trigger(document,"uiNotificationsDogpilePromptCancel"),this.trigger(document,"uiForceShowNotificationFiltersTooltip")},this.showDialog=function(){this.showEducationDialog(),this.trigger(document,"uiNotificationsDogpilePromptShown")},this.after("initialize",function(){this.on("click",{confirmSelector:"uiNotificationsDogpilePromptConfirm",cancelSelector:this.cancel}),this.on(document,"uiSwiftLoaded uiPageChanged",this.showDialog)})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),r=s(n),a=i(1608),c=s(a);e.default=(0,r.default)(c.default,o)},1815:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(){this.defaultAttrs({delay:500,muteText:"Mute specific words from your notifications and timeline",filterText:"Now you can use filters to control what you see here"}),this.hideTooltip=function(){this.$node.tooltip("hide")},this.disableTooltip=function(){this.$node.tooltip("disable")},this.getMuteKeywordStore=function(){return this.muteKeywordStore||(this.muteKeywordStore=new l.default("mute_keywords_v2_"+u.default.user.id)),this.muteKeywordStore},this.getNotificationFiltersStore=function(){return this.notificationFiltersStore||(this.notificationFiltersStore=new l.default("notification_filters_"+u.default.user.id)),this.notificationFiltersStore},this.showTooltip=function(e,i,s){this.$node.attr("data-original-title",i),e.setItem("seen_tooltip","1"),this.$node.tooltip("show"),this.trigger(s),t(document).one("click",this.hideTooltip.bind(this))},this.forceShowFiltersTooltip=function(){var t=this;this.$node.tooltip("enable"),setTimeout(function(){return t.showTooltip(t.getNotificationFiltersStore(),t.attr.filterText,"uiNotificationFiltersTooltipShown")},this.attr.delay)},this.after("initialize",function(){var t=this.getMuteKeywordStore(),e=this.getNotificationFiltersStore();t.getItem("seen_tooltip")?e.getItem("seen_tooltip")?this.disableTooltip():this.showTooltip(e,this.attr.filterText,"uiNotificationFiltersTooltipShown"):this.showTooltip(t,this.attr.muteText,"uiMuteKeywordsTooltipShown"),this.on(document,"uiForceShowNotificationFiltersTooltip",this.forceShowFiltersTooltip)})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(123),r=(s(n),i(111)),a=s(r),c=i(202),l=s(c),d=i(136),u=s(d);e.default=(0,a.default)(o)}).call(e,i(10))}});
//# sourceMappingURL=13.pages_notifications.en.5bcd218f52c0d86ea080.js.map